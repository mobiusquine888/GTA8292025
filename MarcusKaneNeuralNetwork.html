<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Marcus Kane: Neural Breach</title>
    <style>
        :root{
            --bg:#0a0a0a;--teal:#00b8a9;--orange:#ff8c42;--purple:#9d4edd;--red:#ff2e63;
            --text:#f5f5f5;--muted:#aaa;--glow:0 0 20px rgba(0,184,169,.5);
        }
        *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none;}
        html,body{height:100%;overflow:hidden;background:#000;font-family:'Courier New',monospace;color:var(--text);touch-action:manipulation;}
        body{display:flex;flex-direction:column;background:radial-gradient(circle at 50% 30%,#16213e 0%,#000 100%);}
        .grid-bg{position:absolute;inset:0;background:linear-gradient(rgba(0,184,169,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,184,169,.03) 1px,transparent 1px);background-size:30px 30px;animation:g 30s linear infinite;pointer-events:none;opacity:.6;}
        @keyframes g{0%{transform:translate(0,0)}100%{transform:translate(30px,30px)}}
        .header{padding:0.8rem 1rem;text-align:center;background:rgba(10,10,10,.9);border-bottom:1px solid rgba(0,184,169,.3);}
        .title{font-size:1.8rem;font-weight:bold;background:linear-gradient(90deg,var(--teal),var(--purple));-webkit-background-clip:text;color:transparent;letter-spacing:2px;}
        .subtitle{font-size:0.75rem;color:var(--muted);margin-top:0.2rem;}
        .container{flex:1;display:flex;flex-direction:column;padding:0.6rem;gap:0.6rem;max-width:900px;margin:0 auto;width:100%;max-height:calc(100vh - 160px);}
        .stats{display:flex;gap:0.5rem;background:rgba(10,10,10,.7);padding:0.5rem;border-radius:8px;border:1px solid rgba(0,184,169,.4);font-size:0.8rem;}
        .stat{flex:1;text-align:center;}
        .stat span{color:var(--muted);display:block;font-size:0.65rem;}
        .stat strong{color:var(--teal);font-size:1rem;}
        #arena{flex:1;min-height:260px;max-height:400px;position:relative;border-radius:12px;overflow:hidden;border:2px solid rgba(0,184,169,.6);box-shadow:var(--glow),inset 0 0 40px rgba(0,0,0,.6);background:#0a0a0a;}
        #canvas{display:block;width:100%;height:100%;}
        .pattern{background:rgba(157,78,221,.15);padding:0.6rem;border-radius:8px;text-align:center;font-size:0.8rem;color:var(--purple);border:1px dashed rgba(157,78,221,.5);box-shadow:0 0 12px rgba(157,78,221,.2);}
        .controls{display:grid;grid-template-columns:1fr 1fr 1fr;gap:0.5rem;padding:0 0.6rem;}
        .btn{padding:0.8rem 0.4rem;font-size:0.8rem;font-weight:bold;border:none;border-radius:8px;cursor:pointer;transition:.2s;position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:1px;box-shadow:0 4px 12px rgba(0,0,0,.5);}
        .btn:active{transform:scale(.95);}
        #inject{background:linear-gradient(135deg,var(--teal),#00d4c1);color:#000;box-shadow:0 0 16px rgba(0,184,169,.6);}
        #bypass{background:linear-gradient(135deg,var(--orange),#ffb07a);color:#000;box-shadow:0 0 16px rgba(255,140,66,.6);}
        #overload{background:linear-gradient(135deg,var(--purple),#c06bff);color:#fff;box-shadow:0 0 16px rgba(157,78,221,.6);}
        .start{text-align:center;padding:0.6rem;}
        #startBtn{display:inline-block;padding:0.9rem 2rem;font-size:1rem;font-weight:bold;background:linear-gradient(45deg,var(--red),#ff5e8a);color:#fff;border:none;border-radius:50px;cursor:pointer;box-shadow:0 0 20px rgba(255,46,99,.7);animation:p 2s infinite;}
        #startBtn:disabled{opacity:.7;animation:none;cursor:not-allowed;}
        @keyframes p{0%,100%{box-shadow:0 0 20px rgba(255,46,99,.7)}50%{box-shadow:0 0 30px rgba(255,46,99,1)}}
        .notif{position:absolute;top:25%;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.9);color:var(--teal);padding:0.6rem 1.2rem;border-radius:8px;font-size:0.9rem;font-weight:bold;opacity:0;transition:.3s;z-index:100;border:1px solid var(--teal);box-shadow:0 0 20px rgba(0,184,169,.6);pointer-events:none;}
        .notif.show{opacity:1;transform:translateX(-50%) translateY(-8px);}
        @media(max-width:600px){
            .title{font-size:1.5rem;}
            .stats{font-size:0.7rem;}
            .stat strong{font-size:0.9rem;}
            #arena{min-height:200px;}
            .btn{font-size:0.7rem;padding:0.7rem 0.3rem;}
            #startBtn{font-size:0.9rem;padding:0.8rem 1.8rem;}
        }
        @media(min-width:1200px){
            .container{max-width:800px;}
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    <header class="header">
        <h1 class="title">NEURAL BREACH</h1>
        <p class="subtitle">MARCUS KANE // CYBER OPS</p>
    </header>

    <div class="container">
        <div class="stats">
            <div class="stat"><span>Nodes</span><strong id="nodes">0</strong></div>
            <div class="stat"><span>Links</span><strong id="links">0</strong></div>
            <div class="stat"><span>AI</span><strong id="level">1</strong></div>
        </div>

        <div id="arena">
            <canvas id="canvas"></canvas>
            <div id="notif" class="notif"></div>
        </div>

        <div class="pattern">Pattern: <span id="pat">Awaiting sync...</span></div>

        <div class="controls">
            <button class="btn" id="inject">Inject</button>
            <button class="btn" id="bypass">Bypass</button>
            <button class="btn" id="overload">Overload</button>
        </div>

        <div class="start">
            <button id="startBtn">ACCESS MAINFRAME</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d'), container = document.getElementById('arena');
        function resize(){const r=container.getBoundingClientRect(),dpr=window.devicePixelRatio||1;canvas.width=r.width*dpr;canvas.height=r.height*dpr;canvas.style.width=r.width+'px';canvas.style.height=r.height+'px';ctx.scale(dpr,dpr);}window.addEventListener('resize',resize);resize();

        const game={nodes:[],links:[],parts:[],lvl:1,pat:[],seq:[],run:false,glitch:false,over:false,inj:0,byp:0,cam:{s:0}};
        const nEl=document.getElementById('nodes'),lEl=document.getElementById('links'),lvlEl=document.getElementById('level'),patEl=document.getElementById('pat'),start=document.getElementById('startBtn'),inj=document.getElementById('inject'),byp=document.getElementById('bypass'),ovr=document.getElementById('overload'),not=document.getElementById('notif');

        const audio=new (window.AudioContext||window.webkitAudioContext)();let snd=false;
        function beep(f,d,t='square',v=.3){if(!snd)return;const o=audio.createOscillator(),g=audio.createGain();o.type=t;o.frequency.setValueAtTime(f,audio.currentTime);g.gain.setValueAtTime(v,audio.currentTime);g.gain.exponentialRampToValueAtTime(.01,audio.currentTime+d/1000);o.connect(g).connect(audio.destination);o.start();o.stop(audio.currentTime+d/1000);}
        function unlock(){if(audio.state==='suspended')audio.resume();snd=true;document.removeEventListener('touchstart',unlock);document.removeEventListener('click',unlock);}
        document.addEventListener('touchstart',unlock,{once:true});document.addEventListener('click',unlock,{once:true});

        class Node{constructor(x,y){this.x=x;this.y=y;this.vx=(Math.random()-.5)*.6;this.vy=(Math.random()-.5)*.6;this.r=4+Math.random()*3;this.p=Math.random()*6;this.a=false;this.t=[];}
        update(w,h){this.x+=this.vx;this.y+=this.vy;if(this.x<25)this.vx=Math.abs(this.vx);if(this.x>w-25)this.vx=-Math.abs(this.vx);if(this.y<25)this.vy=Math.abs(this.vy);if(this.y>h-25)this.vy=-Math.abs(this.vy);this.p+=this.a?.2:.08;this.t.push({x:this.x,y:this.y});if(this.t.length>6)this.t.shift();}
        draw(c){c.save();c.translate(this.x,this.y);this.t.forEach((p,i)=>{c.globalAlpha=(i+1)/this.t.length*.3;c.fillStyle=this.a?'#00b8a9':'#777';c.fillRect(-1.5,-1.5,3,3);});c.globalAlpha=1;
        const g=c.createRadialGradient(0,0,0,0,0,this.r*4);g.addColorStop(0,this.a?'rgba(0,184,169,.8)':'rgba(100,100,150,.4)');g.addColorStop(1,'transparent');c.fillStyle=g;c.fillRect(-40,-40,80,80);
        c.beginPath();const s=this.a?1+Math.sin(this.p)*.5:1;c.arc(0,0,this.r*s,0,Math.PI*2);c.fillStyle=this.a?'#00fff2':'#ddd';c.shadowBlur=15;c.shadowColor=this.a?'#00b8a9':'#888';c.fill();c.restore();}}

        class Part{constructor(x,y,col,v=8){this.x=x;this.y=y;this.vx=(Math.random()-.5)*v;this.vy=(Math.random()-.5)*v;this.l=1;this.d=.02+Math.random()*.02;this.c=col;this.s=1.5+Math.random()*2;}
        update(){this.x+=this.vx;this.y+=this.vy;this.vx*=.96;this.vy*=.96;this.l-=this.d;}
        draw(c){c.globalAlpha=this.l;c.fillStyle=this.c;c.fillRect(this.x-this.s/2,this.y-this.s/2,this.s,this.s);}}

        function spawn(n){const r=container.getBoundingClientRect();for(let i=0;i<n;i++){const x=40+Math.random()*(r.width-80),y=40+Math.random()*(r.height-80);game.nodes.push(new Node(x,y));}up();}
        function upLinks(){game.links=[];const d=90+game.lvl*20;for(let i=0;i<game.nodes.length;i++)for(let j=i+1;j<game.nodes.length;j++){const a=game.nodes[i],b=game.nodes[j],dx=a.x-b.x,dy=a.y-b.y,dist=Math.hypot(dx,dy);if(dist<d){const o=.2+(1-dist/d)*.4+(a.a&&b.a?.3:0);game.links.push({a,b,o,g:game.glitch&&Math.random()>.7});}}}
        function genPat(){const c=Math.min(3+Math.floor(game.lvl/2),7),idx=[];while(idx.length<c){const i=Math.floor(Math.random()*game.nodes.length);if(!idx.includes(i))idx.push(i);}game.pat=idx;patEl.innerHTML=`<strong style="color:#ff8c42">${idx.map(v=>`#${v+1}`).join(' â†’ ')}</strong>`;}
        function check(){if(game.seq.length!==game.pat.length)return;if(game.seq.every((v,i)=>v===game.pat[i]))levelUp();}
        function levelUp(){game.lvl++;lvlEl.textContent=game.lvl;notif(`AI LEVEL ${game.lvl} BREACHED!`,2500);beep(1300,250,'square');spawn(2+Math.floor(game.lvl/3));reset();glitch();game.cam.s=15;}
        function reset(){game.seq=[];game.nodes.forEach(n=>n.a=false);setTimeout(genPat,800);}
        function glitch(){game.glitch=true;document.body.style.filter='url(#g)';setTimeout(()=>{game.glitch=false;document.body.style.filter='';},1000);}
        function notif(m,d=2000){not.innerHTML=m;not.classList.add('show');setTimeout(()=>not.classList.remove('show'),d);}
        function burst(x,y,c,n){for(let i=0;i<n;i++)game.parts.push(new Part(x,y,c));}
        function up(){nEl.textContent=game.nodes.length;lEl.textContent=game.links.length;}

        inj.onclick=()=>{if(!game.run||game.inj>Date.now())return;game.inj=Date.now()+500;const off=game.nodes.filter(n=>!n.a);if(!off.length)return notif('NO TARGET');const node=off[Math.floor(Math.random()*off.length)];node.a=true;game.seq.push(game.nodes.indexOf(node));beep(900,120);notif('INJECTED');burst(node.x,node.y,'#00b8a9',10);check();}
        byp.onclick=()=>{if(!game.run||game.byp>Date.now())return;game.byp=Date.now()+700;const on=game.nodes.filter(n=>n.a);if(!on.length)return notif('NO SIGNAL');const node=on[Math.floor(Math.random()*on.length)];node.a=false;const i=game.seq.indexOf(game.nodes.indexOf(node));if(i>-1)game.seq.splice(i,1);beep(600,100,'sawtooth');notif('BYPASSED');burst(node.x,node.y,'#ff8c42',8);}
        ovr.onclick=()=>{if(!game.run||game.over)return;game.over=true;ovr.classList.add('glitch');notif('OVERLOAD...',800);beep(180,500,'square',.5);setTimeout(()=>{game.nodes.forEach(n=>{if(Math.random()>.5){n.a=!n.a;burst(n.x,n.y,'#9d4edd',7);}});game.seq=game.nodes.map((n,i)=>n.a?i:-1).filter(x=>x>=0);game.over=false;ovr.classList.remove('glitch');check();},800);};
        start.onclick=()=>{if(game.run)return;game.run=true;start.textContent='LIVE';start.disabled=true;beep(1100,300);notif('Marcus Kane: "Crack the core."',3000);spawn(6);setTimeout(genPat,1000);};

        function shake(){if(game.cam.s>0){const i=game.cam.s;ctx.save();ctx.translate((Math.random()-.5)*i,(Math.random()-.5)*i);game.cam.s*=0.88;if(game.cam.s<0.5)game.cam.s=0;}}
        function unshake(){if(game.cam.s>0)ctx.restore();}
        function anim(){const r=container.getBoundingClientRect();ctx.fillStyle='rgba(10,10,10,.1)';ctx.fillRect(0,0,r.width,r.height);shake();game.nodes.forEach(n=>n.update(r.width,r.height));upLinks();
        game.links.forEach(l=>{ctx.beginPath();ctx.moveTo(l.a.x,l.a.y);ctx.lineTo(l.b.x,l.b.y);ctx.strokeStyle=l.g?`rgba(255,50,50,${l.o})`:`rgba(0,184,169,${l.o})`;ctx.lineWidth=l.g?2.5:1.2;ctx.stroke();});
        game.nodes.forEach(n=>n.draw(ctx));game.parts=game.parts.filter(p=>{p.update();p.draw(ctx);return p.l>0;});unshake();up();requestAnimationFrame(anim);}
        document.body.insertAdjacentHTML('afterbegin',`<svg style="position:absolute;width:0;height:0"><filter id="g"><feTurbulence type="fractalNoise" baseFrequency="0.03" numOctaves="3" result="n"/><feDisplacementMap in="SourceGraphic" in2="n" scale="8"/></filter></svg>`);
        patEl.textContent='Syncing...';notif('MARCUS KANE AUTHORIZED',2500);anim();
    </script>
</body>
</html>
