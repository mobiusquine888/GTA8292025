<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Privacy Score Demo</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f9; }
  h1 { text-align: center; color: #333; }
  .container { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
  label, select, button { display: block; width: 100%; margin: 10px 0; font-size: 16px; }
  #score { font-size: 32px; font-weight: bold; text-align: center; margin: 20px 0; }
  .bar-container { margin: 10px 0; }
  .bar { height: 20px; background: #3498db; border-radius: 5px; transition: width 0.5s; }
  .advice { background: #f9f9f9; padding: 10px; border-radius: 5px; margin-top: 15px; }
  #shareCard { text-align: center; margin-top: 20px; padding: 10px; border: 2px dashed #ccc; border-radius: 5px; background: #fff; }
</style>
</head>
<body>

<h1>Privacy Score Demo</h1>
<div class="container">
  <label for="city">Select Your City:</label>
  <select id="city">
    <option value="LA">Los Angeles</option>
    <option value="DEN">Denver</option>
    <option value="NY">New York</option>
  </select>

  <button onclick="generateScore()">Get Privacy Score</button>

  <div id="score"></div>

  <div class="bar-container">
    <div>CCTV</div>
    <div class="bar" id="cctvBar"></div>
  </div>
  <div class="bar-container">
    <div>WiFi Tracking</div>
    <div class="bar" id="wifiBar"></div>
  </div>
  <div class="bar-container">
    <div>Corporate Tracking</div>
    <div class="bar" id="corpBar"></div>
  </div>

  <canvas id="trendCanvas" width="500" height="200" style="display:block; margin: 20px auto;"></canvas>

  <div class="advice" id="advice"></div>

  <div id="shareCard">Share your score on social media!</div>
</div>

<script>
// Simulated data
const cityData = {
  "LA": { cctv: 80, wifi: 70, corp: 75, trend: [40,45,50,55,60,65,70,75,78,80] },
  "DEN": { cctv: 60, wifi: 50, corp: 40, trend: [20,25,30,35,40,45,50,55,58,60] },
  "NY": { cctv: 90, wifi: 80, corp: 85, trend: [50,55,60,65,70,75,80,85,88,90] }
};

function generateScore() {
  const city = document.getElementById("city").value;
  const data = cityData[city];

  const overallScore = Math.round((data.cctv + data.wifi + data.corp)/3);
  document.getElementById("score").innerText = overallScore + "/100";

  // Color based on score
  let color = overallScore < 40 ? "green" : overallScore < 70 ? "yellow" : "red";
  document.getElementById("score").style.color = color;

  // Update bars
  document.getElementById("cctvBar").style.width = data.cctv + "%";
  document.getElementById("cctvBar").style.background = color;

  document.getElementById("wifiBar").style.width = data.wifi + "%";
  document.getElementById("wifiBar").style.background = color;

  document.getElementById("corpBar").style.width = data.corp + "%";
  document.getElementById("corpBar").style.background = color;

  // Advice
  let adviceText = "";
  if(overallScore < 40){
    adviceText = "Low surveillance risk. Keep using safe habits!";
  } else if(overallScore < 70){
    adviceText = "Moderate risk. Consider limiting public WiFi use and reviewing privacy settings.";
  } else {
    adviceText = "High risk! Use VPNs, privacy-focused apps, and review all personal device permissions.";
  }
  document.getElementById("advice").innerText = adviceText;

  // Trend graph
  const canvas = document.getElementById("trendCanvas");
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.beginPath();
  ctx.moveTo(0, 200 - data.trend[0]*2);
  for(let i=1;i<data.trend.length;i++){
    ctx.lineTo(i*50, 200 - data.trend[i]*2);
  }
  ctx.strokeStyle = color;
  ctx.lineWidth = 3;
  ctx.stroke();

  // Share card
  document.getElementById("shareCard").innerText = `My Privacy Score in ${document.getElementById("city").selectedOptions[0].text} is ${overallScore}/100 ${color==="red"?"ðŸ”´":color==="yellow"?"ðŸŸ¡":"ðŸŸ¢"} â€“ see yours!`;
}
</script>

</body>
</html>
