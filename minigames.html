<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTAFastLane Mini-Games - Ultimate Gaming Hub</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: white;
            color: black;
            margin: 0;
            padding: 0;
            transition: all 0.3s ease;
        }

        body.night-mode {
            background: black !important;
            color: white !important;
        }

        .header {
            background: linear-gradient(135deg, #00ffa2 0%, #ff007c 100%);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            position: relative;
        }

        .theme-toggle {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.3);
            border: 2px solid rgba(255,255,255,0.5);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .game-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.2rem;
            box-shadow: 0 4px 25px rgba(0,0,0,0.1);
            border: 1px solid #dee2e6;
        }

        .game-title {
            color: #00ffa2;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.8rem;
        }

        .game-arena {
            height: 150px;
            border-radius: 10px;
            border: 2px solid #dee2e6;
            margin: 0.8rem 0;
            position: relative;
            overflow: hidden;
        }

        .floating-btn {
            background: linear-gradient(135deg, #00ffa2 0%, #ff007c 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            width: 100%;
            margin-top: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }

        .floating-btn:hover {
            transform: scale(1.02);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00ffa2 0%, #ff007c 100%);
            color: white;
            padding: 0.8rem 1.2rem;
            border-radius: 10px;
            z-index: 1000;
            display: none;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header class="header">
        <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
        
        <h1>üéÆ GTA FastLane Mini-Games</h1>
        <div style="font-size: 1.1rem; opacity: 0.9; margin-bottom: 1rem;">Ultimate Gaming Hub - All Games Working!</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 1rem auto; max-width: 800px;">
            <div style="background: rgba(255,255,255,0.15); border-radius: 12px; padding: 1rem; text-align: center; backdrop-filter: blur(10px);">
                <span style="font-size: 1.8rem; font-weight: 900; color: white; display: block; margin-bottom: 0.25rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);" id="gamesPlayed">0</span>
                <div style="font-size: 0.9rem; opacity: 0.9; font-weight: 600;">Games Played</div>
            </div>
            <div style="background: rgba(255,255,255,0.15); border-radius: 12px; padding: 1rem; text-align: center; backdrop-filter: blur(10px);">
                <span style="font-size: 1.8rem; font-weight: 900; color: white; display: block; margin-bottom: 0.25rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);" id="totalScore">0</span>
                <div style="font-size: 0.9rem; opacity: 0.9; font-weight: 600;">Total Score</div>
            </div>
            <div style="background: rgba(255,255,255,0.15); border-radius: 12px; padding: 1rem; text-align: center; backdrop-filter: blur(10px);">
                <span style="font-size: 1.8rem; font-weight: 900; color: white; display: block; margin-bottom: 0.25rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);" id="highScore">0</span>
                <div style="font-size: 0.9rem; opacity: 0.9; font-weight: 600;">High Score</div>
            </div>
            <div style="background: rgba(255,255,255,0.15); border-radius: 12px; padding: 1rem; text-align: center; backdrop-filter: blur(10px);">
                <span style="font-size: 1.8rem; font-weight: 900; color: white; display: block; margin-bottom: 0.25rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">8</span>
                <div style="font-size: 0.9rem; opacity: 0.9; font-weight: 600;">Working Games</div>
            </div>
        </div>
    </header>

    <div class="container">
        <h2 style="color: #00ffa2; text-align: center; margin-bottom: 2rem; font-size: 1.8rem;">All Games Ready to Play</h2>
        
        <div class="games-grid">
            <!-- Game 1: Target Practice -->
            <div class="game-card">
                <div class="game-title">üéØ Target Practice</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Score: <strong id="targetScore">0</strong></span>
                    <span>Targets: <strong id="targetHits">0/10</strong></span>
                    <span>Time: <strong id="targetTimer">30</strong>s</span>
                </div>
                <div id="targetRange" class="game-arena" style="background: linear-gradient(180deg, #87CEEB 0%, #90EE90 100%); cursor: crosshair;"></div>
                <button class="floating-btn" onclick="startTargetPractice()">Start Shooting</button>
            </div>

            <!-- Game 2: Memory Challenge -->
            <div class="game-card">
                <div class="game-title">üß† Memory Challenge</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Level: <strong id="memoryLevel">1</strong></span>
                    <span>Score: <strong id="memoryScore">0</strong></span>
                    <span>Best: <strong id="memoryBest">0</strong></span>
                </div>
                <div id="memoryGrid" class="game-arena" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; padding: 15px; background: #2C3E50;">
                    <div class="memory-cell" onclick="clickMemoryCell(0)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(1)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(2)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(3)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(4)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(5)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(6)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(7)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                    <div class="memory-cell" onclick="clickMemoryCell(8)" style="background: #34495E; border-radius: 6px; cursor: pointer;"></div>
                </div>
                <button class="floating-btn" onclick="startMemoryGame()">Start Memory Test</button>
            </div>

            <!-- Game 3: Lucky Wheel Casino -->
            <div class="game-card">
                <div class="game-title">üé∞ Lucky Wheel Casino</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Credits: <strong id="slotCredits">100</strong></span>
                    <span>Jackpots: <strong id="jackpots">0</strong></span>
                    <span>Winnings: <strong id="totalWinnings">$0</strong></span>
                </div>
                <div class="game-arena" style="background: linear-gradient(45deg, #2C3E50 0%, #8B0000 100%); display: flex; justify-content: center; align-items: center; gap: 12px;">
                    <div style="width: 45px; height: 60px; background: #ffd700; border: 2px solid #FFD700; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;" id="slot1">üíé</div>
                    <div style="width: 45px; height: 60px; background: #ffd700; border: 2px solid #FFD700; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;" id="slot2">üçí</div>
                    <div style="width: 45px; height: 60px; background: #ffd700; border: 2px solid #FFD700; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;" id="slot3">üí∞</div>
                </div>
                <button class="floating-btn" onclick="spinSlots()">Pull Lever (10 credits)</button>
            </div>

            <!-- Game 4: Wild West Showdown -->
            <div class="game-card">
                <div class="game-title">ü§† Wild West Showdown</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Wins: <strong id="showdownWins">0</strong></span>
                    <span>Best: <strong id="fastestDraw">--</strong>ms</span>
                    <span>Streak: <strong id="showdownStreak">0</strong></span>
                </div>
                <div id="showdownArena" class="game-arena" onclick="quickDraw()" style="background: linear-gradient(180deg, #F4A460 0%, #D2B48C 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #8B4513; cursor: pointer;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ü§† VS ü§°</div>
                    <div id="showdownCountdown" style="font-size: 1.5rem; font-weight: bold; color: #dc3545;">READY</div>
                    <div style="margin-top: 0.5rem; font-size: 0.8rem;">Wait for DRAW!</div>
                </div>
                <button class="floating-btn" onclick="startShowdown()">Start Showdown</button>
            </div>

            <!-- Game 5: Reaction Test -->
            <div class="game-card">
                <div class="game-title">‚ö° Reaction Test</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Best: <strong id="reactionBest">0</strong>ms</span>
                    <span>Tests: <strong id="reactionTests">0</strong></span>
                    <span>Avg: <strong id="reactionAvg">0</strong>ms</span>
                </div>
                <div id="reactionArena" class="game-arena" onclick="testReaction()" style="background: #e74c3c; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-weight: bold; font-size: 1.1rem;">
                    Click when GREEN!
                </div>
                <button class="floating-btn" onclick="startReactionTest()">Test Reaction</button>
            </div>

            <!-- Game 6: Diamond Clicker -->
            <div class="game-card">
                <div class="game-title">üíé Diamond Clicker</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Diamonds: <strong id="diamondCount">0</strong></span>
                    <span>Per Click: <strong id="clickPower">1</strong></span>
                    <span>Level: <strong id="clickLevel">1</strong></span>
                </div>
                <div id="clickArena" class="game-arena" onclick="clickDiamond()" style="background: linear-gradient(45deg, #2C3E50 0%, #34495E 100%); display: flex; align-items: center; justify-content: center; cursor: pointer;">
                    <div id="bigDiamond" style="font-size: 3rem; transition: transform 0.1s;">üíé</div>
                </div>
                <button class="floating-btn" onclick="startMining()">Start Mining</button>
            </div>

            <!-- Game 7: Blackjack -->
            <div class="game-card">
                <div class="game-title">‚ô†Ô∏è Blackjack Showdown</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Chips: <strong id="blackjackChips">$500</strong></span>
                    <span>Wins: <strong id="blackjackWins">0</strong></span>
                    <span>Hand: <strong id="playerTotal">0</strong></span>
                </div>
                <div class="game-arena" style="background: #0d5f2f; padding: 15px; display: flex; flex-direction: column; justify-content: space-between; color: white; font-size: 0.8rem;">
                    <div style="text-align: center;">
                        <div style="margin-bottom: 8px;">Dealer: <span id="dealerTotal">?</span></div>
                        <div id="dealerCards">üÇ† üÇ†</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="margin-bottom: 8px;">You: <span id="playerTotal2">0</span></div>
                        <div id="playerCards">üÇ† üÇ†</div>
                    </div>
                </div>
                <button class="floating-btn" onclick="dealCards()">Deal Cards</button>
            </div>

            <!-- Game 8: Neural Network Defense -->
            <div class="game-card">
                <div class="game-title">üß† Neural Network Defense</div>
                <div style="display: flex; justify-content: space-between; margin: 0.4rem 0; font-size: 0.8rem; opacity: 0.8; background: rgba(0,0,0,0.05); padding: 0.4rem; border-radius: 6px;">
                    <span>Status: <strong id="neuralStatus">Ready</strong></span>
                    <span>High Score: <strong id="neuralHighScore">0</strong></span>
                    <span>Difficulty: <strong>Hard</strong></span>
                </div>
                <div class="game-arena" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); position: relative; overflow: hidden;">
                    <div id="neuralContainer" style="width: 100%; height: 100%; position: relative;">
                        <div style="position: absolute; top: 5px; left: 5px; right: 5px; display: flex; justify-content: space-between; font-size: 0.7rem; color: #00ff88; z-index: 10;">
                            <div>Health: <span id="neuralHealth">100</span>%</div>
                            <div>Score: <span id="neuralScore">0</span></div>
                            <div>Wave: <span id="neuralWave">1</span></div>
                            <div>Infected: <span id="infectedCount">0</span></div>
                        </div>
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2rem; z-index: 5;" id="brainCenter">üß†</div>
                        <div style="position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); display: flex; gap: 5px; z-index: 10;">
                            <button style="background: #00ff88; color: black; border: none; padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; cursor: pointer;" onclick="healNodes()">HEAL</button>
                            <button style="background: #ff4444; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; cursor: pointer;" onclick="resetNeuralGame()">RESET</button>
                        </div>
                        <div id="neuralStartScreen" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #00ff88; z-index: 20;">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üß†</div>
                            <div style="font-size: 1.2rem; margin-bottom: 0.5rem;">Neural Network Defense</div>
                            <div style="margin-bottom: 1.5rem; text-align: center; font-size: 0.9rem;">Protect the brain from virus attacks!</div>
                        </div>
                    </div>
                </div>
                <button class="floating-btn" onclick="startNeuralGame()">üß† Start Neural Defense</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        var stats = { gamesPlayed: 0, totalScore: 0, highScore: 0 };
        var targetGame = { score: 0, hits: 0, timeLeft: 30, isPlaying: false, timer: null, spawnTimer: null };
        var memoryGame = { level: 1, score: 0, best: 0, sequence: [], playerSequence: [], isPlaying: false, showingSequence: false };
        var slotGame = { credits: 100, jackpots: 0, winnings: 0 };
        var showdownGame = { wins: 0, fastestDraw: 999, streak: 0, isActive: false, startTime: 0 };
        var reactionGame = { best: 999, tests: 0, total: 0, startTime: 0, isWaiting: false };
        var diamondGame = { count: 0, clickPower: 1, level: 1 };
        var blackjackGame = { chips: 500, wins: 0, playerCards: [], dealerCards: [], playerTotal: 0, dealerTotal: 0, gameActive: false };
        var neuralGame = { 
            health: 100, 
            score: 0, 
            wave: 1, 
            infected: 0, 
            highScore: 0, 
            isPlaying: false, 
            viruses: [], 
            nodes: [],
            gameTimer: null,
            spawnTimer: null
        };
        var slotSymbols = ['üíé', 'üçí', 'üí∞', 'üîî', '‚≠ê', 'üçã', 'üíµ', 'üéÆ'];

        function showNotification(message) {
            var notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            setTimeout(function() {
                notification.style.display = 'none';
            }, 3000);
        }

        function toggleTheme() {
            document.body.classList.toggle('night-mode');
            var isNightMode = document.body.classList.contains('night-mode');
            var toggle = document.querySelector('.theme-toggle');
            toggle.innerHTML = isNightMode ? 'üåû' : 'üåô';
            showNotification(isNightMode ? 'Night mode activated!' : 'Day mode activated!');
        }

        function updateStats() {
            document.getElementById('gamesPlayed').textContent = stats.gamesPlayed;
            document.getElementById('totalScore').textContent = stats.totalScore;
            document.getElementById('highScore').textContent = stats.highScore;
        }

        function recordGameScore(score) {
            stats.gamesPlayed++;
            stats.totalScore += score;
            if (score > stats.highScore) stats.highScore = score;
            updateStats();
        }

        function startTargetPractice() {
            targetGame = { score: 0, hits: 0, timeLeft: 30, isPlaying: true, timer: null, spawnTimer: null };
            document.getElementById('targetRange').innerHTML = '';
            updateTargetDisplay();
            
            targetGame.timer = setInterval(function() {
                targetGame.timeLeft--;
                updateTargetDisplay();
                if (targetGame.timeLeft <= 0) endTargetGame(false);
            }, 1000);
            
            targetGame.spawnTimer = setInterval(createTarget, 1200);
            createTarget();
            showNotification('Target practice started!');
        }

        function createTarget() {
            if (!targetGame.isPlaying) return;
            var range = document.getElementById('targetRange');
            var target = document.createElement('div');
            var size = 30 + Math.random() * 20;
            
            target.style.position = 'absolute';
            target.style.width = size + 'px';
            target.style.height = size + 'px';
            target.style.borderRadius = '50%';
            target.style.background = '#e74c3c';
            target.style.border = '2px solid white';
            target.style.cursor = 'crosshair';
            target.style.left = Math.random() * (300 - size) + 'px';
            target.style.top = Math.random() * (120 - size) + 'px';
            
            target.onclick = function() {
                target.remove();
                targetGame.score += 100;
                targetGame.hits++;
                updateTargetDisplay();
                showNotification('Target hit! +100 points');
                if (targetGame.hits >= 10) endTargetGame(true);
            };
            
            range.appendChild(target);
            setTimeout(function() {
                if (target.parentNode) target.remove();
            }, 2500);
        }

        function updateTargetDisplay() {
            document.getElementById('targetScore').textContent = targetGame.score;
            document.getElementById('targetHits').textContent = targetGame.hits + '/10';
            document.getElementById('targetTimer').textContent = targetGame.timeLeft;
        }

        function endTargetGame(won) {
            targetGame.isPlaying = false;
            if (targetGame.timer) clearInterval(targetGame.timer);
            if (targetGame.spawnTimer) clearInterval(targetGame.spawnTimer);
            document.getElementById('targetRange').innerHTML = '';
            recordGameScore(targetGame.score);
            showNotification(won ? 'Perfect game! Score: ' + targetGame.score : 'Game over! Score: ' + targetGame.score);
        }

        function startMemoryGame() {
            memoryGame = { level: 1, score: 0, best: memoryGame.best, sequence: [], playerSequence: [], isPlaying: true, showingSequence: false };
            updateMemoryDisplay();
            generateMemorySequence();
            showNotification('Watch the sequence and repeat it!');
        }

        function generateMemorySequence() {
            memoryGame.sequence.push(Math.floor(Math.random() * 9));
            memoryGame.playerSequence = [];
            showMemorySequence();
        }

        function showMemorySequence() {
            memoryGame.showingSequence = true;
            var cells = document.querySelectorAll('.memory-cell');
            
            for (var i = 0; i < cells.length; i++) {
                cells[i].style.background = '#34495E';
            }
            
            for (var i = 0; i < memoryGame.sequence.length; i++) {
                (function(index, cellIndex) {
                    setTimeout(function() {
                        cells[cellIndex].style.background = '#e74c3c';
                        setTimeout(function() {
                            cells[cellIndex].style.background = '#34495E';
                            if (index === memoryGame.sequence.length - 1) {
                                memoryGame.showingSequence = false;
                            }
                        }, 600);
                    }, index * 800);
                })(i, memoryGame.sequence[i]);
            }
        }

        function clickMemoryCell(index) {
            if (!memoryGame.isPlaying || memoryGame.showingSequence) return;
            memoryGame.playerSequence.push(index);
            
            var currentIndex = memoryGame.playerSequence.length - 1;
            if (memoryGame.playerSequence[currentIndex] !== memoryGame.sequence[currentIndex]) {
                endMemoryGame();
                return;
            }
            
            if (memoryGame.playerSequence.length === memoryGame.sequence.length) {
                memoryGame.level++;
                memoryGame.score += memoryGame.level * 100;
                updateMemoryDisplay();
                showNotification('Level ' + memoryGame.level + '! Score: ' + memoryGame.score);
                setTimeout(generateMemorySequence, 1000);
            }
        }

        function updateMemoryDisplay() {
            document.getElementById('memoryLevel').textContent = memoryGame.level;
            document.getElementById('memoryScore').textContent = memoryGame.score;
            document.getElementById('memoryBest').textContent = memoryGame.best;
        }

        function endMemoryGame() {
            memoryGame.isPlaying = false;
            if (memoryGame.score > memoryGame.best) {
                memoryGame.best = memoryGame.score;
            }
            recordGameScore(memoryGame.score);
            updateMemoryDisplay();
            showNotification('Memory game over! Level: ' + memoryGame.level + ', Score: ' + memoryGame.score);
        }

        function spinSlots() {
            if (slotGame.credits < 10) {
                showNotification('Not enough credits!');
                return;
            }
            
            slotGame.credits -= 10;
            updateSlotDisplay();
            
            var slot1 = document.getElementById('slot1');
            var slot2 = document.getElementById('slot2');
            var slot3 = document.getElementById('slot3');
            
            var spins = 0;
            var spinInterval = setInterval(function() {
                slot1.textContent = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
                slot2.textContent = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
                slot3.textContent = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
                
                spins++;
                if (spins > 20) {
                    clearInterval(spinInterval);
                    checkSlotWin(slot1.textContent, slot2.textContent, slot3.textContent);
                }
            }, 100);
        }

        function checkSlotWin(s1, s2, s3) {
            var winAmount = 0;
            
            if (s1 === s2 && s2 === s3) {
                if (s1 === 'üíé') winAmount = 500;
                else if (s1 === 'üí∞') winAmount = 300;
                else winAmount = 200;
                
                slotGame.jackpots++;
                showNotification('JACKPOT! Won ' + winAmount + ' credits!');
            } else if (s1 === s2 || s2 === s3 || s1 === s3) {
                winAmount = 50;
                showNotification('Pair! Won ' + winAmount + ' credits!');
            } else {
                showNotification('No win, try again!');
            }
            
            slotGame.credits += winAmount;
            slotGame.winnings += winAmount;
            recordGameScore(winAmount);
            updateSlotDisplay();
        }

        function updateSlotDisplay() {
            document.getElementById('slotCredits').textContent = slotGame.credits;
            document.getElementById('jackpots').textContent = slotGame.jackpots;
            document.getElementById('totalWinnings').textContent = '$' + slotGame.winnings;
        }

        function startShowdown() {
            showdownGame.isActive = true;
            document.getElementById('showdownCountdown').textContent = 'READY';
            document.getElementById('showdownCountdown').style.color = '#dc3545';
            
            var countdown = Math.random() * 3000 + 2000;
            
            setTimeout(function() {
                if (showdownGame.isActive) {
                    document.getElementById('showdownCountdown').textContent = 'DRAW!';
                    document.getElementById('showdownCountdown').style.color = '#28a745';
                    showdownGame.startTime = Date.now();
                }
            }, countdown);
            
            showNotification('Get ready... wait for DRAW!');
        }

        function quickDraw() {
            if (!showdownGame.isActive || document.getElementById('showdownCountdown').textContent !== 'DRAW!') {
                showNotification('Too early! Wait for DRAW!');
                showdownGame.isActive = false;
                document.getElementById('showdownCountdown').textContent = 'READY';
                document.getElementById('showdownCountdown').style.color = '#dc3545';
                return;
            }
            
            var reactionTime = Date.now() - showdownGame.startTime;
            
            if (reactionTime < 800) {
                showdownGame.wins++;
                showdownGame.streak++;
                if (reactionTime < showdownGame.fastestDraw || showdownGame.fastestDraw === 999) {
                    showdownGame.fastestDraw = reactionTime;
                }
                showNotification('Victory! ' + reactionTime + 'ms reaction time!');
                recordGameScore(Math.max(100, 500 - reactionTime));
            } else {
                showdownGame.streak = 0;
                showNotification('Too slow! ' + reactionTime + 'ms - You lose!');
            }
            
            showdownGame.isActive = false;
            document.getElementById('showdownCountdown').textContent = 'READY';
            document.getElementById('showdownCountdown').style.color = '#dc3545';
            updateShowdownDisplay();
        }

        function updateShowdownDisplay() {
            document.getElementById('showdownWins').textContent = showdownGame.wins;
            document.getElementById('fastestDraw').textContent = showdownGame.fastestDraw === 999 ? '--' : showdownGame.fastestDraw + 'ms';
            document.getElementById('showdownStreak').textContent = showdownGame.streak;
        }

        function startReactionTest() {
            var arena = document.getElementById('reactionArena');
            arena.style.background = '#e74c3c';
            arena.textContent = 'Wait for GREEN...';
            reactionGame.isWaiting = true;
            
            var waitTime = Math.random() * 4000 + 1000;
            
            setTimeout(function() {
                if (reactionGame.isWaiting) {
                    arena.style.background = '#27AE60';
                    arena.textContent = 'CLICK NOW!';
                    reactionGame.startTime = Date.now();
                }
            }, waitTime);
        }

        function testReaction() {
            var arena = document.getElementById('reactionArena');
            
            if (!reactionGame.isWaiting) return;
            
            if (arena.style.background === 'rgb(231, 76, 60)' || arena.textContent === 'Wait for GREEN...') {
                showNotification('Too early! Wait for green!');
                arena.style.background = '#e74c3c';
                arena.textContent = 'Click when GREEN!';
                reactionGame.isWaiting = false;
                return;
            }
            
            var reactionTime = Date.now() - reactionGame.startTime;
            reactionGame.tests++;
            reactionGame.total += reactionTime;
            
            if (reactionTime < reactionGame.best || reactionGame.best === 999) {
                reactionGame.best = reactionTime;
            }
            
            arena.style.background = '#e74c3c';
            arena.textContent = 'Click when GREEN!';
            reactionGame.isWaiting = false;
            
            showNotification(reactionTime + 'ms reaction time!');
            recordGameScore(Math.max(10, 300 - reactionTime));
            updateReactionDisplay();
        }

        function updateReactionDisplay() {
            document.getElementById('reactionBest').textContent = reactionGame.best === 999 ? '0' : reactionGame.best;
            document.getElementById('reactionTests').textContent = reactionGame.tests;
            document.getElementById('reactionAvg').textContent = reactionGame.tests > 0 ? Math.round(reactionGame.total / reactionGame.tests) : '0';
        }

        function startMining() {
            diamondGame = { count: 0, clickPower: 1, level: 1 };
            updateDiamondDisplay();
            showNotification('Mining started! Click the diamond to collect!');
        }

        function clickDiamond() {
            var diamond = document.getElementById('bigDiamond');
            diamond.style.transform = 'scale(1.1)';
            setTimeout(function() {
                diamond.style.transform = 'scale(1)';
            }, 100);
            
            diamondGame.count += diamondGame.clickPower;
            updateDiamondDisplay();
            
            if (diamondGame.count >= diamondGame.level * 100) {
                diamondGame.level++;
                diamondGame.clickPower++;
                showNotification('Level up! Click power increased to ' + diamondGame.clickPower);
                recordGameScore(diamondGame.level * 50);
            }
        }

        function updateDiamondDisplay() {
            document.getElementById('diamondCount').textContent = diamondGame.count;
            document.getElementById('clickPower').textContent = diamondGame.clickPower;
            document.getElementById('clickLevel').textContent = diamondGame.level;
        }

        function dealCards() {
            blackjackGame = { chips: blackjackGame.chips, wins: blackjackGame.wins, playerCards: [], dealerCards: [], playerTotal: 0, dealerTotal: 0, gameActive: true };
            
            var playerCard1 = Math.floor(Math.random() * 10) + 1;
            var playerCard2 = Math.floor(Math.random() * 10) + 1;
            var dealerCard1 = Math.floor(Math.random() * 10) + 1;
            
            blackjackGame.playerCards = [playerCard1, playerCard2];
            blackjackGame.dealerCards = [dealerCard1];
            blackjackGame.playerTotal = playerCard1 + playerCard2;
            blackjackGame.dealerTotal = dealerCard1;
            
            updateBlackjackDisplay();
            showNotification('Cards dealt! Your total: ' + blackjackGame.playerTotal);
        }

        function updateBlackjackDisplay() {
            document.getElementById('blackjackChips').textContent = '$' + blackjackGame.chips;
            document.getElementById('blackjackWins').textContent = blackjackGame.wins;
            document.getElementById('playerTotal').textContent = blackjackGame.playerTotal;
            document.getElementById('playerTotal2').textContent = blackjackGame.playerTotal;
            document.getElementById('dealerTotal').textContent = blackjackGame.dealerTotal;
            
            document.getElementById('playerCards').textContent = 'üÉè üÉè';
            document.getElementById('dealerCards').textContent = 'üÉè üÇ†';
        }

        // Neural Network Defense Game Functions
        function startNeuralGame() {
            document.getElementById('neuralStartScreen').style.display = 'none';
            neuralGame = { 
                health: 100, 
                score: 0, 
                wave: 1, 
                infected: 0, 
                highScore: neuralGame.highScore, 
                isPlaying: true, 
                viruses: [], 
                nodes: [],
                gameTimer: null,
                spawnTimer: null
            };
            
            updateNeuralDisplay();
            createNeuralNodes();
            startVirusWave();
            showNotification('Neural defense activated! Protect the brain!');
        }

        function createNeuralNodes() {
            var container = document.getElementById('neuralContainer');
            var existingNodes = container.querySelectorAll('.neural-node');
            existingNodes.forEach(function(node) { node.remove(); });
            
            neuralGame.nodes = [];
            var nodeCount = 8 + neuralGame.wave * 2;
            
            for (var i = 0; i < nodeCount; i++) {
                var node = document.createElement('div');
                var angle = (i / nodeCount) * 2 * Math.PI;
                var radius = 40 + Math.random() * 30;
                var x = 50 + Math.cos(angle) * radius;
                var y = 50 + Math.sin(angle) * radius;
                
                node.className = 'neural-node';
                node.style.position = 'absolute';
                node.style.left = x + '%';
                node.style.top = y + '%';
                node.style.width = '8px';
                node.style.height = '8px';
                node.style.background = '#00ff88';
                node.style.borderRadius = '50%';
                node.style.transform = 'translate(-50%, -50%)';
                node.style.boxShadow = '0 0 4px #00ff88';
                node.style.cursor = 'pointer';
                node.style.zIndex = '8';
                
                node.onclick = function() {
                    if (neuralGame.isPlaying) {
                        this.style.background = '#ffff00';
                        this.style.boxShadow = '0 0 8px #ffff00';
                        neuralGame.score += 50;
                        updateNeuralDisplay();
                        var currentNode = this;
                        setTimeout(function() {
                            currentNode.style.background = '#00ff88';
                            currentNode.style.boxShadow = '0 0 4px #00ff88';
                        }, 200);
                    }
                };
                
                container.appendChild(node);
                neuralGame.nodes.push({
                    element: node,
                    x: x,
                    y: y,
                    infected: false
                });
            }
        }

        function startVirusWave() {
            if (!neuralGame.isPlaying) return;
            
            var virusCount = neuralGame.wave + 2;
            var spawnDelay = Math.max(800, 2000 - neuralGame.wave * 100);
            
            for (var i = 0; i < virusCount; i++) {
                setTimeout(function() {
                    createVirus();
                }, i * spawnDelay);
            }
            
            setTimeout(function() {
                if (neuralGame.isPlaying && neuralGame.health > 0) {
                    neuralGame.wave++;
                    updateNeuralDisplay();
                    showNotification('Wave ' + neuralGame.wave + ' incoming!');
                    startVirusWave();
                }
            }, virusCount * spawnDelay + 3000);
        }

        function createVirus() {
            if (!neuralGame.isPlaying) return;
            
            var container = document.getElementById('neuralContainer');
            var virus = document.createElement('div');
            
            var startSide = Math.floor(Math.random() * 4);
            var x, y;
            
            switch(startSide) {
                case 0: x = Math.random() * 100; y = -5; break;
                case 1: x = 105; y = Math.random() * 100; break;
                case 2: x = Math.random() * 100; y = 105; break;
                case 3: x = -5; y = Math.random() * 100; break;
            }
            
            virus.style.position = 'absolute';
            virus.style.left = x + '%';
            virus.style.top = y + '%';
            virus.style.width = '12px';
            virus.style.height = '12px';
            virus.style.background = '#ff4444';
            virus.style.borderRadius = '50%';
            virus.style.transform = 'translate(-50%, -50%)';
            virus.style.boxShadow = '0 0 6px #ff4444';
            virus.style.cursor = 'pointer';
            virus.style.zIndex = '9';
            virus.innerHTML = 'ü¶†';
            virus.style.fontSize = '8px';
            virus.style.textAlign = 'center';
            virus.style.lineHeight = '12px';
            
            var virusData = {
                element: virus,
                x: x,
                y: y,
                targetX: 50,
                targetY: 50,
                speed: 0.3 + neuralGame.wave * 0.1
            };
            
            virus.onclick = function() {
                if (neuralGame.isPlaying) {
                    virus.remove();
                    neuralGame.score += 100;
                    updateNeuralDisplay();
                    showNotification('Virus eliminated! +100 points');
                    
                    var virusIndex = neuralGame.viruses.indexOf(virusData);
                    if (virusIndex > -1) {
                        neuralGame.viruses.splice(virusIndex, 1);
                    }
                }
            };
            
            container.appendChild(virus);
            neuralGame.viruses.push(virusData);
            moveVirus(virusData);
        }

        function moveVirus(virusData) {
            if (!neuralGame.isPlaying || !virusData.element.parentNode) return;
            
            var dx = virusData.targetX - virusData.x;
            var dy = virusData.targetY - virusData.y;
            var distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance < 5) {
                virusData.element.remove();
                neuralGame.health -= 10;
                neuralGame.infected++;
                updateNeuralDisplay();
                
                var brainCenter = document.getElementById('brainCenter');
                brainCenter.style.color = '#ff4444';
                setTimeout(function() {
                    brainCenter.style.color = '';
                }, 200);
                
                showNotification('Brain infected! Health: ' + neuralGame.health + '%');
                
                if (neuralGame.health <= 0) {
                    endNeuralGame();
                    return;
                }
                return;
            }
            
            virusData.x += (dx / distance) * virusData.speed;
            virusData.y += (dy / distance) * virusData.speed;
            
            virusData.element.style.left = virusData.x + '%';
            virusData.element.style.top = virusData.y + '%';
            
            setTimeout(function() {
                moveVirus(virusData);
            }, 50);
        }

        function healNodes() {
            if (!neuralGame.isPlaying || neuralGame.score < 200) {
                showNotification('Need 200 points to heal!');
                return;
            }
            
            neuralGame.score -= 200;
            neuralGame.health = Math.min(100, neuralGame.health + 20);
            updateNeuralDisplay();
            showNotification('Neural network healed! +20 health');
            
            var brainCenter = document.getElementById('brainCenter');
            brainCenter.style.color = '#00ff88';
            setTimeout(function() {
                brainCenter.style.color = '';
            }, 500);
        }

        function resetNeuralGame() {
            endNeuralGame();
            document.getElementById('neuralStartScreen').style.display = 'flex';
            var currentHighScore = neuralGame.highScore; // Preserve high score
            neuralGame = { 
                health: 100, 
                score: 0, 
                wave: 1, 
                infected: 0, 
                highScore: currentHighScore, // Keep the high score
                isPlaying: false, 
                viruses: [], 
                nodes: [],
                gameTimer: null,
                spawnTimer: null
            };
            updateNeuralDisplay();
        }

        function endNeuralGame() {
            neuralGame.isPlaying = false;
            
            if (neuralGame.gameTimer) {
                clearInterval(neuralGame.gameTimer);
            }
            if (neuralGame.spawnTimer) {
                clearInterval(neuralGame.spawnTimer);
            }
            
            var container = document.getElementById('neuralContainer');
            var viruses = container.querySelectorAll('div[style*="ff4444"]');
            viruses.forEach(function(virus) { virus.remove(); });
            
            if (neuralGame.score > neuralGame.highScore) {
                neuralGame.highScore = neuralGame.score;
            }
            
            // Only record the score if a game was actually played (score > 0)
            if (neuralGame.score > 0) {
                recordGameScore(neuralGame.score);
            }
            updateNeuralDisplay();
            
            if (neuralGame.health <= 0) {
                showNotification('Neural network compromised! Final Score: ' + neuralGame.score);
            } else {
                showNotification('Defense ended! Score: ' + neuralGame.score);
            }
        }

        function updateNeuralDisplay() {
            document.getElementById('neuralHealth').textContent = neuralGame.health;
            document.getElementById('neuralScore').textContent = neuralGame.score;
            document.getElementById('neuralWave').textContent = neuralGame.wave;
            document.getElementById('infectedCount').textContent = neuralGame.infected;
            document.getElementById('neuralHighScore').textContent = neuralGame.highScore;
            document.getElementById('neuralStatus').textContent = neuralGame.isPlaying ? 'Active' : 'Ready';
        }

        updateStats();
        updateMemoryDisplay();
        updateSlotDisplay();
        updateShowdownDisplay();
        updateReactionDisplay();
        updateDiamondDisplay();
        updateBlackjackDisplay();
        updateNeuralDisplay();
        showNotification('8 Games Ready!');
    </script>
</body>
</html>
