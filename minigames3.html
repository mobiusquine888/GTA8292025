<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ® Arcade Framework v3</title>
<style>
:root {
  --primary: #ff4757;
  --bg: #f4f6f8;
  --card: #fff;
  --gold: #FFD700;
}
body {
  font-family: "Segoe UI", sans-serif;
  background: var(--bg);
  margin: 0;
  padding: 0;
  color: #222;
}
header {
  text-align: center;
  padding: 1.5rem;
  background: var(--primary);
  color: white;
  font-size: 1.4rem;
  font-weight: 600;
}
#menu {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
  padding: 1rem;
}
.game-card {
  background: var(--card);
  border-radius: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  padding: 1rem;
  text-align: center;
  transition: transform 0.2s;
  cursor: pointer;
}
.game-card:hover { transform: translateY(-4px); }
.game-title { font-weight: bold; margin-bottom: 0.3rem; }
.game-desc { font-size: 0.9rem; color: #555; }
.game-area { display: none; padding: 1rem; }
button.back-btn {
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.6rem 1rem;
  margin-bottom: 1rem;
  cursor: pointer;
  font-size: 1rem;
}
button.back-btn:hover { background: #e84118; }
.floating-btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 20px;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.3s;
  margin-top: 0.5rem;
}
.floating-btn:hover { background: #e84118; }
</style>
</head>
<body>
<header>ğŸ® Mini-Game Arcade</header>

<div id="menu"></div>

<div id="gameContainer" class="game-area">
  <button class="back-btn" id="backToMenu">â¬… Back to Menu</button>
  <div id="gameContent"></div>
</div>

<script>
/* ============ Arcade Framework ============ */
const arcade = {
  games: [],
  menu: document.getElementById("menu"),
  container: document.getElementById("gameContainer"),
  content: document.getElementById("gameContent"),
  registerGame(game) {
    this.games.push(game);
    const card = document.createElement("div");
    card.className = "game-card";
    card.innerHTML = `
      <div class="game-title">${game.title}</div>
      <div class="game-desc">${game.description}</div>
    `;
    card.onclick = () => this.launch(game.id);
    this.menu.appendChild(card);
  },
  launch(id) {
    const game = this.games.find(g => g.id === id);
    if (!game) return;
    this.menu.style.display = "none";
    this.container.style.display = "block";
    this.content.innerHTML = game.html;
    if (typeof game.init === "function") game.init(this.content);
  },
  back() {
    this.container.style.display = "none";
    this.menu.style.display = "grid";
    this.content.innerHTML = "";
  }
};
document.getElementById("backToMenu").onclick = () => arcade.back();

/* ============ Game 1: Target Practice ============ */
arcade.registerGame({
  id: "target",
  title: "ğŸ¯ Target Practice",
  description: "Hit as many moving targets as you can in 30 seconds!",
  html: `
    <div class="game-card">
      <div class="game-title">ğŸ¯ Target Practice</div>
      <div class="game-stats">
        <span>Score: <strong id="targetScore">0</strong></span>
        <span>Hits: <strong id="targetHits">0</strong></span>
        <span>Time: <strong id="targetTimer">30</strong>s</span>
      </div>
      <div id="targetRange" style="height:150px;background:linear-gradient(180deg,#87CEEB 0%,#90EE90 100%);position:relative;border-radius:10px;overflow:hidden;"></div>
      <div id="targetGameOver" style="display:none;margin-top:0.5rem;">
        <strong style="color:var(--primary);">Game Over!</strong>
        <p id="targetFinalScore"></p>
      </div>
      <button class="floating-btn" id="targetStartBtn">Start Shooting</button>
    </div>
  `,
  init(container) {
    const startBtn = container.querySelector("#targetStartBtn");
    const range = container.querySelector("#targetRange");
    const scoreDisplay = container.querySelector("#targetScore");
    const hitsDisplay = container.querySelector("#targetHits");
    const timerDisplay = container.querySelector("#targetTimer");
    const gameOverScreen = container.querySelector("#targetGameOver");
    const finalScore = container.querySelector("#targetFinalScore");
    let score=0,hits=0,timeLeft=30,gameActive=false,timerInterval,targetTimeout;
    function spawnTarget(){
      if(!gameActive)return;
      const t=document.createElement("div");
      Object.assign(t.style,{
        position:"absolute",width:"40px",height:"40px",
        borderRadius:"50%",background:"radial-gradient(circle, red 40%, white 42%, red 55%, white 70%)"
      });
      const r=range.getBoundingClientRect();
      t.style.left=Math.random()*(r.width-40)+"px";
      t.style.top=Math.random()*(r.height-40)+"px";
      t.onclick=()=>{
        if(!gameActive)return;
        score+=100;hits++;
        scoreDisplay.textContent=score;
        hitsDisplay.textContent=hits;
        t.remove();setTimeout(spawnTarget,400);
      };
      range.appendChild(t);
      targetTimeout=setTimeout(()=>{
        if(range.contains(t)){t.remove();setTimeout(spawnTarget,400);}
      },900);
    }
    function startGame(){
      score=0;hits=0;timeLeft=30;gameActive=true;
      scoreDisplay.textContent="0";hitsDisplay.textContent="0";timerDisplay.textContent="30";
      gameOverScreen.style.display="none";startBtn.disabled=true;
      spawnTarget();
      timerInterval=setInterval(()=>{
        timeLeft--;timerDisplay.textContent=timeLeft;
        if(timeLeft<=0)endGame();
      },1000);
    }
    function endGame(){
      gameActive=false;clearInterval(timerInterval);clearTimeout(targetTimeout);
      range.innerHTML="";gameOverScreen.style.display="block";
      finalScore.textContent=`Your final score: ${score}`;
      startBtn.disabled=false;
    }
    startBtn.onclick=startGame;
  }
});

/* ============ Game 2: Memory Challenge ============ */
arcade.registerGame({
  id: "memory",
  title: "ğŸ§  Memory Challenge",
  description: "Repeat the flashing pattern correctly to advance levels!",
  html: `
    <div class="game-card">
      <div class="game-title">ğŸ§  Memory Challenge</div>
      <div class="game-stats">
        <span>Level: <strong id="memoryLevel">1</strong></span>
        <span>Score: <strong id="memoryScore">0</strong></span>
        <span>Best: <strong id="memoryBest">0</strong></span>
      </div>
      <div id="memoryGrid" style="height:180px;display:grid;grid-template-columns:repeat(3,1fr);gap:8px;padding:12px;background:#2C3E50;border-radius:10px;">
        ${Array.from({length:9},(_,i)=>`<div class="memory-cell" data-index="${i}" style="background:#34495E;border-radius:6px;cursor:pointer;transition:background .3s,transform .2s;"></div>`).join("")}
      </div>
      <div id="memoryMsg" style="display:none;margin-top:0.5rem;"></div>
      <button class="floating-btn" id="memoryStartBtn">Start Memory Test</button>
    </div>
  `,
  init(container) {
    const cells=[...container.querySelectorAll(".memory-cell")];
    const startBtn=container.querySelector("#memoryStartBtn");
    const level=container.querySelector("#memoryLevel");
    const scoreEl=container.querySelector("#memoryScore");
    const bestEl=container.querySelector("#memoryBest");
    const msg=container.querySelector("#memoryMsg");
    let memLevel=1,score=0,seq=[],step=0,playing=false;
    let best=parseInt(localStorage.getItem("memoryBest")||"0");bestEl.textContent=best;
    function flash(c){c.style.background="#F1C40F";setTimeout(()=>c.style.background="#34495E",400);}
    function playSeq(){let i=0;playing=false;const iv=setInterval(()=>{flash(cells[seq[i]]);i++;if(i>=seq.length){clearInterval(iv);playing=true;}},600);}
    function nextLvl(){seq.push(Math.floor(Math.random()*9));level.textContent=memLevel;playSeq();}
    function start(){memLevel=1;score=0;seq=[];step=0;scoreEl.textContent="0";msg.style.display="none";nextLvl();}
    cells.forEach(c=>c.onclick=()=>{if(!playing)return;let i=parseInt(c.dataset.index);if(i===seq[step]){c.style.background="#2ECC71";setTimeout(()=>c.style.background="#34495E",200);step++;if(step===seq.length){score+=memLevel*100;scoreEl.textContent=score;memLevel++;step=0;playing=false;setTimeout(nextLvl,700);}}else{msg.style.display="block";msg.textContent=`âŒ Wrong! Final Score: ${score}`;if(score>best){best=score;localStorage.setItem("memoryBest",best);bestEl.textContent=best;}playing=false;seq=[];}}));
    startBtn.onclick=start;
  }
});

/* ============ Game 3: Lucky Wheel Casino ============ */
arcade.registerGame({
  id: "casino",
  title: "ğŸ° Lucky Wheel Casino",
  description: "Spin the slots, hit jackpots, and manage your credits!",
  html: `
    <div class="game-card">
      <div class="game-title">ğŸ° Lucky Wheel Casino</div>
      <div class="game-stats">
        <span>Credits: <strong id="slotCredits">100</strong></span>
        <span>Jackpots: <strong id="jackpots">0</strong></span>
        <span>Winnings: <strong id="totalWinnings">$0</strong></span>
      </div>
      <div id="slotMachine" style="height:150px;background:linear-gradient(45deg,#2C3E50 0%,#8B0000 100%);display:flex;justify-content:center;align-items:center;gap:12px;border-radius:10px;">
        <div class="reel" id="slot1">ğŸ’</div>
        <div class="reel" id="slot2">ğŸ’</div>
        <div class="reel" id="slot3">ğŸ’°</div>
      </div>
      <button class="floating-btn" id="slotStartBtn">Pull Lever (10 credits)</button>
    </div>
  `,
  init(container){
    const creditsEl=container.querySelector("#slotCredits");
    const jackpotsEl=container.querySelector("#jackpots");
    const winningsEl=container.querySelector("#totalWinnings");
    const reels=[...container.querySelectorAll(".reel")];
    const btn=container.querySelector("#slotStartBtn");
    const icons=["ğŸ’","ğŸ’","ğŸ‹","ğŸ’°","â­","ğŸ””"];
    let credits=parseInt(localStorage.getItem("casinoCredits")||"100");
    let jackpots=parseInt(localStorage.getItem("casinoJackpots")||"0");
    let winnings=parseInt(localStorage.getItem("casinoWinnings")||"0");
    function updateUI(){creditsEl.textContent=credits;jackpotsEl.textContent=jackpots;winningsEl.textContent="$"+winnings;}
    function spin(){
      if(credits<10){alert("Out of credits! Refresh to reset.");return;}
      credits-=10;updateUI();btn.disabled=true;
      let results=[];
      reels.forEach(r=>{
        let spins=0;
        const iv=setInterval(()=>{r.textContent=icons[Math.floor(Math.random()*icons.length)];spins++;if(spins>15){clearInterval(iv);results.push(r.textContent);if(results.length===3)endSpin(results);}},70+Math.random()*50);
      });
    }
    function endSpin(res){
      btn.disabled=false;
      const [a,b,c]=res;
      if(a===b&&b===c){jackpots++;let win=500;winnings+=win;credits+=win;alert("ğŸ’° JACKPOT! You won $"+win+"!");}
      else if(a===b||b===c||a===c){let win=100;winnings+=win;credits+=win;alert("â­ You matched two symbols! +$"+win);}
      updateUI();
      localStorage.setItem("casinoCredits",credits);
      localStorage.setItem("casinoJackpots",jackpots);
      localStorage.setItem("casinoWinnings",winnings);
    }
    btn.onclick=spin;
    updateUI();
  }
});

/* ============ Game 4: Wild West Showdown ============ */
arcade.registerGame({
  id: "showdown",
  title: "ğŸ¤  Wild West Showdown",
  description: "Wait for 'DRAW!' and shoot faster than your opponent!",
  html: `
    <div class="game-card">
      <div class="game-title">ğŸ¤  Wild West Showdown</div>
      <div class="game-stats">
        <span>Wins: <strong id="showdownWins">0</strong></span>
        <span>Best: <strong id="fastestDraw">--</strong>ms</span>
        <span>Streak: <strong id="showdownStreak">0</strong></span>
      </div>
      <div id="showdownArena" style="height:150px;background:linear-gradient(180deg,#F4A460 0%,#D2B48C 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;color:#8B4513;cursor:pointer;border-radius:10px;">
        <div style="font-size:2rem;margin-bottom:0.5rem;">ğŸ¤  VS ğŸ¤ </div>
        <div id="showdownCountdown" style="font-size:1.5rem;font-weight:bold;color:var(--primary);">READY</div>
        <div style="margin-top:0.5rem;font-size:0.8rem;">Wait for DRAW!</div>
      </div>
      <button class="floating-btn" id="showdownStartBtn">Start Showdown</button>
    </div>
  `,
  init(container){
    const arena=container.querySelector("#showdownArena");
    const startBtn=container.querySelector("#showdownStartBtn");
    const countdown=container.querySelector("#showdownCountdown");
    const winsEl=container.querySelector("#showdownWins");
    const streakEl=container.querySelector("#showdownStreak");
    const bestEl=container.querySelector("#fastestDraw");
    let best=parseInt(localStorage.getItem("showdownBest")||"9999");
    let wins=parseInt(localStorage.getItem("showdownWins")||"0");
    let streak=0;let timeout;let drawTime;let active=false;
    bestEl.textContent=best===9999?"--":best;
    winsEl.textContent=wins;
    streakEl.textContent=streak;
    function start(){
      startBtn.disabled=true;
      countdown.textContent="READY...";
      const wait=1000+Math.random()*3000;
      timeout=setTimeout(()=>{
        countdown.textContent="DRAW!";
        drawTime=performance.now();
        active=true;
      },wait);
    }
    function click(){
      if(!timeout)return;
      if(!active){
        countdown.textContent="TOO EARLY! âŒ";
        clearTimeout(timeout);
        streak=0;startBtn.disabled=false;
      } else {
        const t=performance.now()-drawTime;
        countdown.textContent=`ğŸ”¥ ${Math.round(t)}ms!`;
        wins++;streak++;
        if(t<best){best=t;localStorage.setItem("showdownBest",Math.round(best));}
        localStorage.setItem("showdownWins",wins);
        winsEl.textContent=wins;
        streakEl.textContent=streak;
        bestEl.textContent=Math.round(best);
        startBtn.disabled=false;
      }
      active=false;
    }
    startBtn.onclick=start;
    arena.onclick=click;
  }
});
</script>
</body>
</html>
