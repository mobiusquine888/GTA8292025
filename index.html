<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTAFastLane - Ultimate GTA 6 Countdown Hub</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎮</text></svg>">
    
    <style>
        :root {
            --primary-color: #00ffa2;
            --secondary-color: #ff007c;
            --accent-color: #8a2be2;
            --gold-color: #ffd700;
            --premium-color: #ff6b35;
            --success-color: #2ed573;
            --warning-color: #ffa502;
            --danger-color: #ff4757;
            --text-color: #000000;
            --bg-color: #ffffff;
            --card-bg: #f8f9fa;
            --border-color: #dee2e6;
            --shadow: 0 4px 25px rgba(0,0,0,0.1);
            --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            --gradient-premium: linear-gradient(135deg, var(--gold-color) 0%, var(--premium-color) 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding-bottom: 70px;
            transition: all 0.3s ease;
        }

        /* Night Mode Theme - Fixed */
        body.night-mode {
            --text-color: #ffffff;
            --bg-color: #000000;
            --card-bg: #1a1a1a;
            --border-color: #333333;
            --shadow: 0 4px 25px rgba(255,255,255,0.1);
            background: #000000;
        }

        /* Content area styling - Fixed for night mode */
        .content-area {
            padding: 1rem 1rem 170px 1rem;
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg-color);
            color: var(--text-color);
        }

        body.night-mode .content-area {
            background: #000000;
            color: #ffffff;
        }

        body.night-mode .header {
            background: linear-gradient(135deg, #ffffff 0%, #cccccc 100%);
            color: #000000;
        }

        body.night-mode .stat-card,
        body.night-mode .tab-content > div,
        body.night-mode [style*="background: var(--card-bg)"] {
            background: #1a1a1a !important;
            border: 1px solid #333333 !important;
            color: #ffffff !important;
        }

        .header {
            background: var(--gradient-primary);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .header.minimal {
            padding: 0.5rem 1rem;
        }

        .header.minimal .user-status-container,
        .header.minimal .action-buttons,
        .header.minimal .live-activity,
        .header.minimal .countdown-container,
        .header.minimal .achievement-showcase,
        .header.minimal .trailer-link {
            display: none;
        }

        .header.minimal h1 {
            font-size: 1.5rem;
            margin: 0;
        }

        .header h1 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            margin-bottom: 0.5rem;
            font-weight: 900;
            cursor: pointer;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 10px rgba(255,255,255,0.1); }
            to { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.3); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .user-status-container {
            position: absolute;
            top: 4rem;
            left: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .user-status {
            background: rgba(255,255,255,0.25);
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .action-buttons {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            flex-direction: column;
        }

        .action-btn {
            background: rgba(255,255,255,0.3);
            border: 2px solid rgba(255,255,255,0.5);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .action-btn:hover {
            background: rgba(255,255,255,0.5);
            transform: scale(1.1);
        }

        .countdown-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 1rem;
        }

        .countdown-item {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 1rem 0.5rem;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .countdown-item:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.25);
        }

        .countdown-number {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 900;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: block;
        }

        .countdown-label {
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
            font-weight: 600;
        }

        .live-activity {
            background: rgba(46, 213, 115, 0.1);
            border: 1px solid var(--success-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--success-color);
            margin: 0.5rem auto;
            max-width: 400px;
        }

        .achievement-showcase {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
            flex-wrap: wrap;
        }

        .achievement {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-premium);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .achievement:hover {
            transform: scale(1.2);
        }

        .achievement.locked {
            background: rgba(255,255,255,0.1);
            opacity: 0.3;
        }

        .tabs-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border-top: 2px solid var(--border-color);
            z-index: 1000;
            box-shadow: 0 -4px 25px rgba(0,0,0,0.3);
        }

        .tabs {
            display: flex;
            justify-content: space-around;
            padding: 0.5rem 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tab {
            background: transparent;
            border: none;
            color: var(--text-color);
            padding: 0.3rem 0.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.15rem;
            min-width: 36px;
            flex: 1;
            opacity: 0.7;
        }

        .tab:hover {
            opacity: 1;
            color: var(--primary-color);
        }

        .tab.active {
            color: var(--primary-color);
            opacity: 1;
        }

        .tab .tab-icon {
            font-size: 1rem;
            display: block;
        }

        .tab .tab-label {
            font-size: 0.45rem;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .tab.premium .tab-icon::after {
            content: '👑';
            position: absolute;
            font-size: 0.6rem;
            margin-left: -0.25rem;
            margin-top: -0.25rem;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .viral-challenge {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
            color: white;
        }

        .referral-system {
            background: var(--gradient-primary);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border-top: 4px solid var(--primary-color);
            cursor: pointer;
        }

        .stat-card:hover {
            transform: translateY(-3px) scale(1.02);
        }

        .stat-card.premium {
            border-top-color: var(--gold-color);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 107, 53, 0.05));
        }

        .stat-number {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 800;
            color: var(--primary-color);
            display: block;
        }

        .stat-card.premium .stat-number {
            color: var(--gold-color);
        }

        .floating-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 20px;
            cursor: pointer;
            box-shadow: var(--shadow);
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .floating-btn:hover {
            transform: scale(1.1);
        }

        .floating-btn.premium {
            background: var(--gradient-premium);
        }

        .floating-actions {
            position: fixed;
            bottom: 80px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 1000;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient-primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            z-index: 1000;
            display: none;
            max-width: calc(100vw - 40px);
            font-size: 0.9rem;
        }

        .trailer-link:hover .play-button {
            transform: translate(-50%, -50%) scale(1.1);
            background: rgba(255,0,0,1);
        }

        .trailer-link:hover .overlay {
            opacity: 1;
        }

        .trailer-link:hover > div {
            transform: scale(1.02);
        }

        @media (max-width: 768px) {
            .user-status-container,
            .action-buttons {
                position: static;
                margin: 0.5rem 0;
            }

            .action-buttons {
                flex-direction: row;
                justify-content: center;
            }

            .countdown-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 0.3rem;
                padding: 0 0.5rem;
            }
        }

        /* Beta Banner Styles */
        .beta-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 99999;
            background: rgba(20, 20, 20, 0.97);
            color: #f0f0f0;
            border-bottom: 2px solid #ff0055;
            font-family: 'Trebuchet MS', Impact, system-ui, sans-serif;
            letter-spacing: 0.5px;
            text-shadow: 0 0 4px rgba(255,0,85,0.8);
            transform: translateY(-100%);
            opacity: 0;
            transition: transform 0.6s ease, opacity 0.6s ease;
        }

        .beta-banner.show {
            transform: translateY(0);
            opacity: 1;
        }

        .beta-banner-content {
            max-width: 1100px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
        }

        .beta-banner-text {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 1rem;
        }

        .beta-banner-close {
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 1.2rem;
            color: #ffcc00;
            padding: 4px 8px;
        }

        /* Disclaimer Banner Styles */
        .disclaimer-banner {
            position: fixed;
            bottom: 100px;
            left: 0;
            right: 0;
            z-index: 9999;
            background: rgba(30, 30, 30, 0.95);
            color: #f0f0f0;
            border-top: 2px solid #ff0055;
            font-size: 1.1rem;
            text-align: center;
            padding: 1rem;
            transform: translateY(100%);
            opacity: 0;
            transition: transform 0.6s ease, opacity 0.6s ease;
        }

        .disclaimer-banner.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Loading spinner */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary-color);
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Video grid styles */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .video-card {
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 1px solid var(--border-color);
        }

        .video-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,255,162,0.2);
        }

        .video-thumbnail {
            position: relative;
            aspect-ratio: 16/9;
            background-color: var(--card-bg);
            background-size: cover;
            background-position: center;
        }

        .play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,0,0,0.9);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            transition: all 0.3s ease;
        }

        .video-duration {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
        }

        .video-info {
            padding: 1rem;
        }

        .video-title {
            margin-bottom: 0.5rem;
            color: var(--text-color);
            font-size: 0.9rem;
            line-height: 1.3;
            height: 2.6em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .video-channel {
            color: var(--primary-color);
            font-size: 0.8rem;
            margin-bottom: 0.25rem;
        }

        .video-meta {
            color: rgba(255,255,255,0.6);
            font-size: 0.7rem;
        }

        body.night-mode .video-meta {
            color: rgba(255,255,255,0.6);
        }

        body:not(.night-mode) .video-meta {
            color: rgba(0,0,0,0.6);
        }

        /* News article styles */
        .news-grid {
            display: grid;
            gap: 1rem;
            margin-top: 2rem;
        }

        .news-article {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid var(--primary-color);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .news-article:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .news-title {
            color: var(--text-color);
            margin-bottom: 0.5rem;
            line-height: 1.3;
            font-size: 1.1rem;
        }

        .news-source {
            color: var(--primary-color);
            font-size: 0.8rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .news-description {
            color: var(--text-color);
            opacity: 0.8;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .news-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .news-badge {
            background: var(--success-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .news-link {
            color: var(--primary-color);
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <!-- Beta Banner -->
    <div id="betaBanner" class="beta-banner">
        <div class="beta-banner-content">
            <div class="beta-banner-text">
                <span style="font-size: 1.2rem; color:#ff0055;">⚠️</span>
                <strong style="color:#ffcc00;">Beta version – we're testing!</strong>
                <span>Feedback appreciated.</span>
            </div>
            <button id="betaBannerClose" class="beta-banner-close">✕</button>
        </div>
    </div>

    <header class="header">
        <div class="user-status-container">
            <div class="user-status">
                <span id="userLevel">Insider</span>
            </div>
            <div class="user-status">
                XP: <span id="userXP">1,247</span> | Coins: <span id="userCoins">850</span>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="action-btn" onclick="toggleTheme()" id="themeToggle" title="Toggle Theme">🌙</button>
            <button class="action-btn" onclick="showNotification('Achievements feature coming soon!')" title="Achievements">🏆</button>
            <button class="action-btn" onclick="showNotification('Notifications feature coming soon!')" title="Notifications">🔔</button>
            <button class="action-btn" onclick="showNotification('Wallet feature coming soon!')" title="Wallet">💰</button>
        </div>
        
        <!-- Games button positioned with floating actions -->
        <button style="background: var(--gradient-primary); color: white; border: none; border-radius: 50%; width: 100px; height: 100px; cursor: pointer; box-shadow: var(--shadow); font-size: 2.5rem; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; position: fixed; bottom: 80px; left: 20px; z-index: 1000;" onclick="showTab('challenges')" title="Mini-Games" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">🎯</button>
        
        <h1 onclick="showNotification('Easter egg activated!')">🎮 GTAFastLane</h1>
        
        <div class="live-activity" id="liveActivity">
            🔴 LIVE: <span id="onlineCount">12,847</span> fans online | Limited event active!
        </div>
        
        <div class="trailer-link" style="max-width: 600px; margin: 1rem auto; position: relative;">
            <div id="trailerPreview" style="position: relative; aspect-ratio: 16/9; overflow: hidden; border-radius: 12px; cursor: pointer; transition: transform 0.3s ease;">
                <div style="position: absolute; inset: 0; background: url('https://i.imgur.com/Z0x2Io2.jpeg') center/cover; display: flex; align-items: center; justify-content: center;">
                    <div style="text-align: center; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.8); z-index: 2;">
                        <div style="font-family: 'Montserrat', sans-serif; font-size: clamp(1.2rem, 3vw, 2.5rem); font-weight: 900; margin-bottom: 0.5rem; letter-spacing: 2px;">GRAND THEFT AUTO VI</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 1.2rem); opacity: 0.9; font-weight: 600;">SPRING 2026</div>
                        <div style="font-size: clamp(0.7rem, 1.8vw, 1rem); opacity: 0.8; margin-top: 0.5rem;">Jason & Lucia • Vice City</div>
                    </div>
                    <div style="position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.6) 100%); z-index: 1;"></div>
                </div>
                <div id="playButton" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255,0,0,0.9); border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; transition: all 0.3s ease; z-index: 10; box-shadow: 0 4px 15px rgba(0,0,0,0.3); cursor: pointer;" class="play-button">▶</div>
            </div>
            <p style="text-align: center; margin-top: 0.5rem; color: var(--text-color); font-size: 0.9rem; font-weight: 600;">Watch GTA 6 Official Trailer - Jason & Lucia</p>
        </div>
        
        <div class="countdown-container">
            <div class="countdown-item" onclick="awardRewards(5, 2, 'Countdown clicked!')">
                <span class="countdown-number" id="days">273</span>
                <div class="countdown-label">Days</div>
            </div>
            <div class="countdown-item" onclick="awardRewards(5, 2, 'Countdown clicked!')">
                <span class="countdown-number" id="hours">15</span>
                <div class="countdown-label">Hours</div>
            </div>
            <div class="countdown-item" onclick="awardRewards(5, 2, 'Countdown clicked!')">
                <span class="countdown-number" id="minutes">42</span>
                <div class="countdown-label">Minutes</div>
            </div>
            <div class="countdown-item" onclick="awardRewards(5, 2, 'Countdown clicked!')">
                <span class="countdown-number" id="seconds">18</span>
                <div class="countdown-label">Seconds</div>
            </div>
        </div>
        
        <div class="achievement-showcase" id="achievementShowcase">
            <div class="achievement" title="Early Bird">🦅</div>
            <div class="achievement" title="Streak Master">🔥</div>
            <div class="achievement locked" title="Prediction King">👑</div>
            <div class="achievement locked" title="Viral Sharer">📱</div>
            <div class="achievement locked" title="Crypto Collector">💎</div>
        </div>
    </header>

    <div class="tabs-container">
        <nav class="tabs">
            <button class="tab active" onclick="showTab('home')" data-tab="home">
                <span class="tab-icon">🏠</span>
                <span class="tab-label">Home</span>
            </button>
            <button class="tab" onclick="showTab('news')" data-tab="news">
                <span class="tab-icon">📰</span>
                <span class="tab-label">News</span>
            </button>
            <button class="tab" onclick="showTab('youtube')" data-tab="youtube">
                <span class="tab-icon">📺</span>
                <span class="tab-label">GTA</span>
            </button>
            <button class="tab" onclick="showTab('challenges')" data-tab="challenges">
                <span class="tab-icon">🎯</span>
                <span class="tab-label">Games</span>
            </button>
            <button class="tab" onclick="showTab('rumors')" data-tab="rumors">
                <span class="tab-icon">🔥</span>
                <span class="tab-label">Rumors</span>
            </button>
            <button class="tab" onclick="showTab('trevor')" data-tab="trevor">
                <span class="tab-icon">😈</span>
                <span class="tab-label">Trevor</span>
            </button>
            <button class="tab" onclick="showTab('theories')" data-tab="theories">
                <span class="tab-icon">🧠</span>
                <span class="tab-label">Theories</span>
            </button>
            <button class="tab" onclick="showTab('rdr2')" data-tab="rdr2">
                <span class="tab-icon">🤠</span>
                <span class="tab-label">RDR2</span>
            </button>
            <button class="tab" onclick="showTab('chat')" data-tab="chat">
                <span class="tab-icon">💬</span>
                <span class="tab-label">Chat</span>
            </button>
            <button class="tab" onclick="showTab('shop')" data-tab="shop">
                <span class="tab-icon">🛒</span>
                <span class="tab-label">Shop</span>
            </button>
            <button class="tab premium" onclick="showTab('premium')" data-tab="premium">
                <span class="tab-icon">👑</span>
                <span class="tab-label">Premium</span>
            </button>
        </nav>
    </div>

    <main class="content-area">
        <!-- Home Tab -->
        <div id="home" class="tab-content active">
            <div class="viral-challenge">
                <h2>🚀 VIRAL CHALLENGE ACTIVE!</h2>
                <p><strong>Share GTAFastLane and earn 500 coins + exclusive NFT!</strong></p>
                <button class="floating-btn" style="position: static; margin: 1rem auto; display: flex;" onclick="shareForReward()">
                    🎁 Share & Earn Rewards
                </button>
            </div>

            <div class="referral-system">
                <h3>💰 Refer Friends & Earn</h3>
                <p>Each friend earns you <strong>100 coins + 50 XP</strong></p>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 1.2rem; font-weight: bold; margin: 1rem 0; letter-spacing: 2px; cursor: pointer;" onclick="copyReferralCode()">
                    GTAFL-<span id="userReferralCode">A7B9X2</span>
                </div>
                <small>Click to copy your referral code</small>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">52,847</span>
                    <div>Total Members</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number">8,234</span>
                    <div>Premium Members</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">1,247</span>
                    <div>Shares Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">15,678</span>
                    <div>NFTs Minted</div>
                </div>
            </div>
        </div>

        <!-- News Tab -->
        <div id="news" class="tab-content">
            <h2 style="color: var(--primary-color);">Latest GTA 6 News</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="newsCount">Loading...</span>
                    <div>Stories Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="newsWeekly">Loading...</span>
                    <div>This Week</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="newsSources">Loading...</span>
                    <div>News Sources</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number">LIVE</span>
                    <div>Status</div>
                </div>
            </div>
            
            <div id="newsContainer" class="news-grid">
                <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                    <div class="spinner"></div>
                    <div style="margin-top: 1rem;">Loading latest GTA 6 news...</div>
                </div>
            </div>
        </div>

        <!-- YouTube Tab -->
        <div id="youtube" class="tab-content">
            <h2 style="color: var(--primary-color);">🎮 GTA 6 - Vice City Dreams</h2>
            <div class="stats-grid" style="margin-bottom: 2rem;">
                <div class="stat-card">
                    <span class="stat-number" id="ytVideoCount">Loading...</span>
                    <div>Videos Found</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="ytTotalViews">Loading...</span>
                    <div>Total Views</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="ytChannelCount">Loading...</span>
                    <div>Channels</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number">LIVE</span>
                    <div>Streaming</div>
                </div>
            </div>
            <div id="youtubeGrid" class="video-grid">
                <div style="text-align: center; padding: 2rem; color: var(--primary-color); grid-column: 1 / -1;">
                    <div class="spinner"></div>
                    <div style="margin-top: 1rem;">Loading GTA 6 videos...</div>
                </div>
            </div>
        </div>

        <!-- Challenges Tab -->
          
            <div class="tab-content" id="minigames">
    <h2>🎮 Mini-Games Hub</h2>
    <p>Play exciting mini-games inspired by GTA!</p>
    <a href="minigames.html" class="floating-btn">🚀 Enter Gaming Hub</a>
</div>        

                

        <!-- Rumors Tab -->
<!-- Rumor Rating -->
                <div style="background: var(--card-bg); border-radius: 12px; padding: 1rem;">
                    <h4 style="margin-bottom: 0.5rem;">Rumor Rating</h4>
                    <p style="font-size: 0.9rem; font-style: italic; margin-bottom: 0.5rem;">"GTA 6 will feature revolutionary physics engine..."</p>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.25rem; margin: 0.5rem 0;">
                        <button style="background: var(--danger-color); border: none; color: white; padding: 0.5rem; border-radius: 8px; cursor: pointer; font-size: 0.7rem;" onclick="rateRumor('fake')">Fake</button>
                        <button style="background: var(--warning-color); border: none; color: white; padding: 0.5rem; border-radius: 8px; cursor: pointer; font-size: 0.7rem;" onclick="rateRumor('unlikely')">Unlikely</button>
                        <button style="background: var(--accent-color); border: none; color: white; padding: 0.5rem; border-radius: 8px; cursor: pointer; font-size: 0.7rem;" onclick="rateRumor('possible')">Possible</button>
                        <button style="background: var(--success-color); border: none; color: white; padding: 0.5rem; border-radius: 8px; cursor: pointer; font-size: 0.7rem;" onclick="rateRumor('credible')">Credible</button>
                    </div>
                    <div style="font-size: 0.8rem; text-align: center;">Streak: <strong id="rumorStreak2">0</strong> | Best: <strong id="bestStreak2">0</strong></div>
                </div>
            </div>
        </div>
        
        <div id="rumors" class="tab-content">
            <h2 style="color: var(--primary-color); margin-bottom: 1rem;">🔥 GTA 6 Rumors & Leaks</h2>
            
            <div class="stats-grid" style="margin-bottom: 2rem;">
                <div class="stat-card">
                    <span class="stat-number" id="rumorsCount">Loading...</span>
                    <div>Active Rumors</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="rumorCredibility">Loading...</span>
                    <div>Credibility Score</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="rumorSources">Loading...</span>
                    <div>Sources</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number">HOT</span>
                    <div>Status</div>
                </div>
            </div>
            
            <div id="rumorsContainer" class="news-grid">
                <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                    <div class="spinner"></div>
                    <div style="margin-top: 1rem;">Loading latest GTA 6 rumors and leaks...</div>
                </div>
            </div>
        </div>

        <!-- Trevor Tab -->
        <div id="trevor" class="tab-content">
            <h2 style="color: var(--danger-color);">😈 Trevor Mode - Chaos Central</h2>
            <div class="stats-grid" style="margin-bottom: 2rem;">
                <div class="stat-card">
                    <span class="stat-number" id="trevorVideoCount">Loading...</span>
                    <div>Chaos Videos</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="trevorViews">Loading...</span>
                    <div>Total Views</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="trevorChannels">Loading...</span>
                    <div>Channels</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number">CHAOS</span>
                    <div>Mode Active</div>
                </div>
            </div>
            <div id="trevorGrid" class="video-grid">
                <div style="text-align: center; padding: 2rem; color: var(--danger-color); grid-column: 1 / -1;">
                    <div class="spinner"></div>
                    <div style="margin-top: 1rem;">Loading Trevor chaos videos...</div>
                </div>
            </div>
        </div>

        <!-- Theories Tab -->
        <div id="theories" class="tab-content">
            <h2 style="color: var(--primary-color);">🧠 GTA 6 Theories Hub</h2>
            <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                Theories section coming soon...
            </div>
        </div>

        <!-- RDR2 Tab -->
        <div id="rdr2" class="tab-content">
            <h2 style="color: var(--primary-color);">🤠 Red Dead Redemption 2 & GTA Connection</h2>
            <div class="stats-grid" style="margin-bottom: 2rem;">
                <div class="stat-card">
                    <span class="stat-number" id="rdr2VideoCount">Loading...</span>
                    <div>RDR2 Videos</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="rdr2Views">Loading...</span>
                    <div>Total Views</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="rdr2Channels">Loading...</span>
                    <div>Channels</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number">WILD</span>
                    <div>West Mode</div>
                </div>
            </div>
            <div id="rdr2Grid" class="video-grid">
                <div style="text-align: center; padding: 2rem; color: var(--primary-color); grid-column: 1 / -1;">
                    <div class="spinner"></div>
                    <div style="margin-top: 1rem;">Loading RDR2 videos...</div>
                </div>
            </div>
        </div>

        <!-- Chat Tab -->
        <div id="chat" class="tab-content">
            <h2 style="color: var(--primary-color);">💬 Live Community Chat</h2>
            <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                Chat coming soon...
            </div>
        </div>

        <!-- Shop Tab -->
        <div id="shop" class="tab-content">
            <h2 style="color: var(--primary-color);">🛒 GTAFastLane Shop</h2>
            <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                Shop coming soon...
            </div>
        </div>
        
        <!-- Premium Tab -->
        <div id="premium" class="tab-content">
            <h2 style="color: var(--gold-color);">👑 Premium Features</h2>
            <div style="text-align: center; padding: 2rem; color: var(--gold-color);">
                Premium features coming soon...
            </div>
        </div>
    </main>

    <div class="notification" id="notification"></div>

    <div class="floating-actions">
        <button class="floating-btn" onclick="shareForReward()">🚀 Share & Earn</button>
        <button class="floating-btn premium" onclick="upgradeToPremium()">👑 Go Premium</button>
    </div>

    <!-- Disclaimer Banner -->
    <div id="disclaimerBanner" class="disclaimer-banner">
        <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; flex-wrap: wrap;">
            <span>⚠️ <strong>Disclaimer:</strong> All user counts, stats, and numbers shown are <u>mock data for testing purposes only</u>.</span>
            <button id="disclaimerBannerClose" style="border: none; background: transparent; cursor: pointer; font-size: 1.2rem; color: #ffcc00; padding: 4px 8px; margin-left: 10px;">✕</button>
        </div>
    </div>

    <script>
        // API Configuration
        const API_CONFIG = {
            news: '22ae24fcb78544a1977241e1319d4a0b',
            youtube: 'AIzaSyB1Hx3EJD1N_jyJ01E131pUA3RqZvLNOZU'
        };

        // In-memory storage
        let storage = {};

        // Storage helpers
        function safeGetStorage(key, defaultValue) {
            return storage[key] || defaultValue;
        }

        function safeSetStorage(key, value) {
            storage[key] = value;
        }

        // Element helpers
        function safeGetElement(id) {
            try {
                return document.getElementById(id);
            } catch (error) {
                return null;
            }
        }

        function safeUpdateText(id, text) {
            const element = safeGetElement(id);
            if (element) element.textContent = text;
        }

        // User data
        let userData = {
            xp: parseInt(safeGetStorage('gtafl-xp', '1247')),
            coins: parseInt(safeGetStorage('gtafl-coins', '850')),
            level: safeGetStorage('gtafl-level', 'Insider'),
            referralCode: safeGetStorage('gtafl-referral', 'A7B9X2')
        };

        // Utility functions
        function showNotification(message) {
            try {
                const notification = safeGetElement('notification');
                if (notification) {
                    notification.textContent = message;
                    notification.style.display = 'block';
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 3000);
                }
            } catch (error) {
                console.warn('Notification error:', error);
            }
        }

        function awardRewards(coins, xp, message) {
            try {
                userData.coins += coins;
                userData.xp += xp;
                updateUserInterface();
                saveUserData();
                showNotification(`+${coins} coins, +${xp} XP: ${message}`);
            } catch (error) {
                console.warn('Reward error:', error);
            }
        }

        function saveUserData() {
            try {
                safeSetStorage('gtafl-xp', userData.xp);
                safeSetStorage('gtafl-coins', userData.coins);
                safeSetStorage('gtafl-level', userData.level);
                safeSetStorage('gtafl-referral', userData.referralCode);
            } catch (error) {
                console.warn('Save error:', error);
            }
        }

        function updateUserInterface() {
            try {
                safeUpdateText('userXP', userData.xp.toLocaleString());
                safeUpdateText('userCoins', userData.coins.toLocaleString());
                safeUpdateText('userLevel', userData.level);
                safeUpdateText('userReferralCode', userData.referralCode);
            } catch (error) {
                console.warn('UI update error:', error);
            }
        }

        function toggleTheme() {
            try {
                const body = document.body;
                const themeToggle = safeGetElement('themeToggle');
                
                body.classList.toggle('night-mode');
                
                const isNightMode = body.classList.contains('night-mode');
                
                if (themeToggle) {
                    themeToggle.textContent = isNightMode ? '☀️' : '🌙';
                }
                
                safeSetStorage('gtafl-theme', isNightMode ? 'night' : 'day');
                
                showNotification(isNightMode ? 'Night mode activated!' : 'Day mode activated!');
                awardRewards(3, 1, 'Theme changed');
            } catch (error) {
                console.warn('Theme toggle error:', error);
            }
        }

        function loadSavedTheme() {
            try {
                const savedTheme = safeGetStorage('gtafl-theme', 'day');
                if (savedTheme === 'night') {
                    document.body.classList.add('night-mode');
                    const themeToggle = safeGetElement('themeToggle');
                    if (themeToggle) themeToggle.textContent = '☀️';
                }
            } catch (error) {
                console.warn('Theme load error:', error);
            }
        }

        function showTab(tabName) {
            try {
                const header = document.querySelector('.header');
                
                if (tabName === 'home') {
                    header?.classList.remove('minimal');
                } else {
                    header?.classList.add('minimal');
                }
                
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                });

                const targetContent = safeGetElement(tabName);
                const targetTab = document.querySelector(`[data-tab="${tabName}"]`);
                
                if (targetContent) targetContent.classList.add('active');
                if (targetTab) targetTab.classList.add('active');

                // Load content for specific tabs
                switch(tabName) {
                    case 'challenges':
                        setTimeout(() => {
                            initializeChallenges();
                        }, 100);
                        break;
                    case 'youtube':
                        fetchYouTubeVideos('GTA 6 Grand Theft Auto VI Vice City trailer gameplay', 'youtubeGrid', 'yt');
                        break;
                    case 'news':
                        fetchGTA6News();
                        break;
                    case 'rumors':
                        fetchGTA6Rumors();
                        break;
                    case 'trevor':
                        fetchYouTubeVideos('Trevor Phillips GTA 5 chaos funny moments rampage', 'trevorGrid', 'trevor');
                        break;
                    case 'rdr2':
                        fetchYouTubeVideos('Red Dead Redemption 2 funny moments best scenes', 'rdr2Grid', 'rdr2');
                        break;
                }

                awardRewards(2, 1, `Explored ${tabName}`);
            } catch (error) {
                console.warn('Tab switching error:', error);
            }
        }

        // Enhanced YouTube API function with CORS proxy fallback
        async function fetchYouTubeVideos(query, containerId, statsPrefix = '') {
            try {
                const container = safeGetElement(containerId);
                if (!container) return;

                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--primary-color); grid-column: 1 / -1;">
                        <div class="spinner"></div>
                        <div style="margin-top: 1rem;">Loading ${query} videos...</div>
                    </div>
                `;

                console.log('Fetching YouTube videos:', query);
                
                let response;
                let data;
                
                // Try direct API call first
                try {
                    const apiUrl = `https://www.googleapis.com/youtube/v3/search?key=${API_CONFIG.youtube}&q=${encodeURIComponent(query)}&part=snippet&type=video&maxResults=50&order=relevance&safeSearch=none&regionCode=US`;
                    response = await fetch(apiUrl);
                    
                    if (response.ok) {
                        data = await response.json();
                    } else {
                        throw new Error(`Direct API failed: ${response.status}`);
                    }
                } catch (directError) {
                    console.log('Direct YouTube API failed, trying CORS proxy...', directError.message);
                    
                    // Try CORS proxy
                    try {
                        const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://www.googleapis.com/youtube/v3/search?key=${API_CONFIG.youtube}&q=${encodeURIComponent(query)}&part=snippet&type=video&maxResults=50&order=relevance&safeSearch=none&regionCode=US`)}`;
                        response = await fetch(proxyUrl);
                        
                        if (response.ok) {
                            const proxyData = await response.json();
                            data = JSON.parse(proxyData.contents);
                        } else {
                            throw new Error(`CORS proxy failed: ${response.status}`);
                        }
                    } catch (proxyError) {
                        console.log('CORS proxy failed, using fallback...', proxyError.message);
                        throw new Error('All YouTube fetch methods failed');
                    }
                }
                
                console.log('YouTube API Response:', data);
                
                if (data && data.items && data.items.length > 0) {
                    displayYouTubeVideos(data.items, container, statsPrefix);
                    updateVideoStats(data.items, statsPrefix);
                    showNotification(`✅ Loaded ${data.items.length} real videos from YouTube!`);
                    awardRewards(20, 5, `Loaded ${query} videos`);
                } else {
                    throw new Error('No videos found in API response');
                }
                
            } catch (error) {
                console.error('YouTube fetch error:', error);
                const container = safeGetElement(containerId);
                if (container) {
                    // Generate 50 realistic fallback videos
                    const fallbackVideos = generateFallbackVideos(query, 50);
                    displayYouTubeVideos(fallbackVideos, container, statsPrefix);
                    updateVideoStats(fallbackVideos, statsPrefix);
                    showNotification(`📺 Showing ${fallbackVideos.length} sample ${query} videos (API unavailable)`);
                    
                    // Add retry button
                    container.innerHTML += `
                        <div style="text-align: center; padding: 1rem; grid-column: 1 / -1;">
                            <button onclick="fetchYouTubeVideos('${query}', '${containerId}', '${statsPrefix}')" 
                                    style="background: var(--primary-color); border: none; color: white; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer;">
                                🔄 Try Loading Real Videos
                            </button>
                        </div>
                    `;
                }
            }
        }

        // Generate realistic fallback videos
        function generateFallbackVideos(query, count) {
            const videoTitles = {
                'GTA 6': [
                    'GTA 6 Official Trailer Breakdown',
                    'Grand Theft Auto VI Vice City Gameplay',
                    'GTA 6 Lucia Character Analysis',
                    'GTA VI Jason & Lucia Story Theory',
                    'Grand Theft Auto 6 Map Size Comparison',
                    'GTA 6 vs GTA 5 Graphics Comparison',
                    'GTA VI Weapons & Vehicles Showcase',
                    'Grand Theft Auto 6 Release Date News',
                    'GTA 6 Vice City Easter Eggs',
                    'GTA VI Character Customization'
                ],
                'Trevor': [
                    'Trevor Phillips Best Moments GTA 5',
                    'Trevor Chaos Compilation',
                    'GTA 5 Trevor Funny Scenes',
                    'Trevor vs Police Epic Chase',
                    'Trevor Phillips Rampage Mode',
                    'GTA 5 Trevor Best Quotes',
                    'Trevor Heist Missions Compilation',
                    'Trevor Phillips Character Analysis',
                    'GTA 5 Trevor Easter Eggs',
                    'Trevor vs Michael Fight Scenes'
                ],
                'RDR2': [
                    'Red Dead Redemption 2 Best Moments',
                    'RDR2 Arthur Morgan Tribute',
                    'Red Dead 2 Funny Glitches',
                    'RDR2 vs GTA 5 Comparison',
                    'Red Dead Redemption 2 Easter Eggs',
                    'RDR2 Horse Bonding Guide',
                    'Red Dead 2 Best Outfits',
                    'RDR2 Gang Interactions',
                    'Red Dead Redemption 2 Endings',
                    'RDR2 Wildlife Documentary'
                ]
            };
            
            const channels = ['MrBossFTW', 'GTA Series Videos', 'LegacyKillaHD', 'Saintsfan', 'Digital Car Addict', 'GTAMen', 'GameRant', 'IGN', 'GameSpot', 'Rockstar Games'];
            
            let titles;
            if (query.includes('Trevor')) titles = videoTitles.Trevor;
            else if (query.includes('RDR2') || query.includes('Red Dead')) titles = videoTitles.RDR2;
            else titles = videoTitles['GTA 6'];
            
            const videos = [];
            for (let i = 0; i < count; i++) {
                const title = titles[i % titles.length] + (i >= titles.length ? ` Part ${Math.floor(i / titles.length) + 1}` : '');
                const channel = channels[i % channels.length];
                const publishedAt = new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000);
                
                videos.push({
                    id: { videoId: `fake_video_${i}` },
                    snippet: {
                        title: title,
                        channelTitle: channel,
                        publishedAt: publishedAt.toISOString(),
                        thumbnails: {
                            medium: {
                                url: `https://img.youtube.com/vi/QkkoHAzjnUs/mqdefault.jpg` // GTA 6 trailer thumbnail as fallback
                            }
                        }
                    }
                });
            }
            
            return videos;
        }

        // Enhanced News API function with CORS proxy
        async function fetchGTA6News() {
            try {
                const newsContainer = safeGetElement('newsContainer');
                if (!newsContainer) return;

                newsContainer.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                        <div class="spinner"></div>
                        <div style="margin-top: 1rem;">Loading latest GTA 6 news from multiple sources...</div>
                    </div>
                `;

                let allNews = [];
                
                // Try direct API calls with CORS proxy fallback
                const queries = [
                    'GTA 6 OR "Grand Theft Auto 6" OR "Grand Theft Auto VI"',
                    'GTA VI Vice City Rockstar Games'
                ];

                console.log('Fetching news from multiple sources...');

                for (const query of queries) {
                    try {
                        let response;
                        let data;
                        
                        // Try direct API call
                        try {
                            const apiUrl = `https://newsapi.org/v2/everything?q=${encodeURIComponent(query)}&apiKey=${API_CONFIG.news}&sortBy=publishedAt&pageSize=25&language=en`;
                            response = await fetch(apiUrl);
                            
                            if (response.ok) {
                                data = await response.json();
                            } else {
                                throw new Error(`Direct API failed: ${response.status}`);
                            }
                        } catch (directError) {
                            console.log(`Direct API failed for query: ${query}`, directError.message);
                            
                            // Try CORS proxy
                            try {
                                const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://newsapi.org/v2/everything?q=${encodeURIComponent(query)}&apiKey=${API_CONFIG.news}&sortBy=publishedAt&pageSize=25&language=en`)}`;
                                response = await fetch(proxyUrl);
                                
                                if (response.ok) {
                                    const proxyData = await response.json();
                                    data = JSON.parse(proxyData.contents);
                                } else {
                                    throw new Error(`CORS proxy failed: ${response.status}`);
                                }
                            } catch (proxyError) {
                                console.log(`CORS proxy failed for query: ${query}`, proxyError.message);
                                throw new Error('All methods failed');
                            }
                        }
                        
                        if (data && data.articles && data.articles.length > 0) {
                            const newArticles = data.articles.filter(article => 
                                article.title !== '[Removed]' && 
                                article.description !== '[Removed]' &&
                                !allNews.some(existing => existing.title === article.title)
                            );
                            allNews.push(...newArticles);
                        }
                        
                        if (allNews.length >= 50) break;
                        
                        await new Promise(resolve => setTimeout(resolve, 100));
                        
                    } catch (queryError) {
                        console.log(`Query failed: ${query}`, queryError.message);
                    }
                }

                // If no real news, generate enhanced fallback
                if (allNews.length === 0) {
                    allNews = generateFallbackNews(50);
                }

                // Display results
                const finalNews = allNews.slice(0, 50);
                updateNewsContent(finalNews);
                updateNewsStats(finalNews);
                
                if (allNews[0] && allNews[0].category === 'Fallback') {
                    showNotification(`📰 Showing ${finalNews.length} sample GTA 6 news articles (API unavailable)`);
                } else {
                    showNotification(`📰 Loaded ${finalNews.length} news articles from multiple sources!`);
                    awardRewards(15, 4, 'Loaded comprehensive news');
                }
                
            } catch (error) {
                console.error('News fetch error:', error);
                const fallbackNews = generateFallbackNews(50);
                updateNewsContent(fallbackNews);
                updateNewsStats(fallbackNews);
                showNotification('📰 Showing sample GTA 6 news (API unavailable)');
            }
        }

        // Generate realistic fallback news
        function generateFallbackNews(count) {
            const newsTemplates = [
                {
                    title: "GTA 6 Development Update: Vice City Setting Confirmed",
                    description: "Rockstar Games confirms Vice City as the primary setting for Grand Theft Auto VI, bringing back the beloved Miami-inspired location with enhanced detail and scope.",
                    source: "Gaming News"
                },
                {
                    title: "GTA 6 Release Date: Spring 2025 Window Maintained",
                    description: "Industry sources suggest Rockstar is still targeting a Spring 2025 release window for the highly anticipated sequel, despite development challenges.",
                    source: "Game Industry"
                },
                {
                    title: "GTA 6 Dual Protagonists: Lucia and Jason Character Details",
                    description: "New information emerges about the game's dual protagonist system, featuring detailed character backgrounds for both Lucia and Jason.",
                    source: "IGN Gaming"
                },
                {
                    title: "GTA 6 Map Leaked: Three Times Larger Than GTA 5",
                    description: "Alleged leaked documents suggest GTA 6's Vice City will be significantly larger than any previous Grand Theft Auto map.",
                    source: "GameSpot"
                },
                {
                    title: "GTA 6 Graphics Engine: Revolutionary Visual Technology",
                    description: "Technical analysis reveals advanced graphics capabilities that will showcase next-generation console hardware to its fullest potential.",
                    source: "Digital Foundry"
                }
            ];
            
            const sources = ["GameSpot", "IGN", "Kotaku", "Polygon", "PC Gamer", "Game Informer", "Eurogamer", "VG247", "GamesRadar", "Rock Paper Shotgun"];
            
            const news = [];
            for (let i = 0; i < count; i++) {
                const template = newsTemplates[i % newsTemplates.length];
                const source = sources[i % sources.length];
                const daysAgo = Math.floor(Math.random() * 30);
                const publishedAt = new Date(Date.now() - daysAgo * 24 * 60 * 60 * 1000);
                
                news.push({
                    title: template.title + (i >= newsTemplates.length ? ` - Update ${Math.floor(i / newsTemplates.length) + 1}` : ''),
                    description: template.description,
                    source: { name: source },
                    publishedAt: publishedAt.toISOString(),
                    url: "#",
                    category: 'Fallback'
                });
            }
            
            return news;
        }

        function displayYouTubeVideos(videos, container, statsPrefix) {
            if (!container) return;
            
            container.innerHTML = videos.map(video => {
                const videoId = video.id.videoId;
                const thumbnail = video.snippet.thumbnails.medium?.url || video.snippet.thumbnails.default?.url;
                const title = video.snippet.title;
                const channelTitle = video.snippet.channelTitle;
                const publishedAt = new Date(video.snippet.publishedAt);
                const timeAgo = getTimeAgo(publishedAt);
                
                return `
                    <div class="video-card" onclick="window.open('https://youtube.com/watch?v=${videoId}', '_blank')">
                        <div class="video-thumbnail" style="background-image: url('${thumbnail}')">
                            <div class="play-btn">▶</div>
                            <div class="video-duration">HD</div>
                        </div>
                        <div class="video-info">
                            <div class="video-title">${title}</div>
                            <div class="video-channel">${channelTitle}</div>
                            <div class="video-meta">${timeAgo}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateVideoStats(videos, statsPrefix) {
            try {
                const videoCount = videos.length;
                const channelCount = new Set(videos.map(v => v.snippet.channelTitle)).size;
                const totalViews = Math.floor(Math.random() * 10000000) + 1000000;
                
                if (statsPrefix === 'yt') {
                    safeUpdateText('ytVideoCount', videoCount);
                    safeUpdateText('ytTotalViews', formatNumber(totalViews));
                    safeUpdateText('ytChannelCount', channelCount);
                } else if (statsPrefix === 'trevor') {
                    safeUpdateText('trevorVideoCount', videoCount);
                    safeUpdateText('trevorViews', formatNumber(totalViews));
                    safeUpdateText('trevorChannels', channelCount);
                } else if (statsPrefix === 'rdr2') {
                    safeUpdateText('rdr2VideoCount', videoCount);
                    safeUpdateText('rdr2Views', formatNumber(totalViews));
                    safeUpdateText('rdr2Channels', channelCount);
                }
            } catch (error) {
                console.warn('Video stats update error:', error);
            }
        }

        // Enhanced News API function with CORS proxy and fallback
        async function fetchGTA6News() {
            try {
                const newsContainer = safeGetElement('newsContainer');
                if (!newsContainer) return;

                newsContainer.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                        <div class="spinner"></div>
                        <div style="margin-top: 1rem;">Loading latest GTA 6 news from multiple sources...</div>
                    </div>
                `;

                let allNews = [];
                
                // Try direct API calls with CORS proxy fallback
                const queries = [
                    'GTA 6 OR "Grand Theft Auto 6" OR "Grand Theft Auto VI"',
                    'GTA VI Vice City Rockstar Games'
                ];

                console.log('Fetching news from multiple sources...');

                for (const query of queries) {
                    try {
                        let response;
                        let data;
                        
                        // Try direct API call
                        try {
                            const apiUrl = `https://newsapi.org/v2/everything?q=${encodeURIComponent(query)}&apiKey=${API_CONFIG.news}&sortBy=publishedAt&pageSize=25&language=en`;
                            response = await fetch(apiUrl);
                            
                            if (response.ok) {
                                data = await response.json();
                            } else {
                                throw new Error(`Direct API failed: ${response.status}`);
                            }
                        } catch (directError) {
                            console.log(`Direct API failed for query: ${query}`, directError.message);
                            
                            // Try CORS proxy
                            try {
                                const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://newsapi.org/v2/everything?q=${encodeURIComponent(query)}&apiKey=${API_CONFIG.news}&sortBy=publishedAt&pageSize=25&language=en`)}`;
                                response = await fetch(proxyUrl);
                                
                                if (response.ok) {
                                    const proxyData = await response.json();
                                    data = JSON.parse(proxyData.contents);
                                } else {
                                    throw new Error(`CORS proxy failed: ${response.status}`);
                                }
                            } catch (proxyError) {
                                console.log(`CORS proxy failed for query: ${query}`, proxyError.message);
                                throw new Error('All methods failed');
                            }
                        }
                        
                        if (data && data.articles && data.articles.length > 0) {
                            const newArticles = data.articles.filter(article => 
                                article.title !== '[Removed]' && 
                                article.description !== '[Removed]' &&
                                !allNews.some(existing => existing.title === article.title)
                            );
                            allNews.push(...newArticles);
                        }
                        
                        if (allNews.length >= 50) break;
                        
                        await new Promise(resolve => setTimeout(resolve, 100));
                        
                    } catch (queryError) {
                        console.log(`Query failed: ${query}`, queryError.message);
                    }
                }

                // If no real news, generate enhanced fallback
                if (allNews.length === 0) {
                    allNews = generateFallbackNews(50);
                }

                // Display results
                const finalNews = allNews.slice(0, 50);
                updateNewsContent(finalNews);
                updateNewsStats(finalNews);
                
                if (allNews[0] && allNews[0].category === 'Fallback') {
                    showNotification(`📰 Showing ${finalNews.length} sample GTA 6 news articles (API unavailable)`);
                } else {
                    showNotification(`📰 Loaded ${finalNews.length} news articles from multiple sources!`);
                    awardRewards(15, 4, 'Loaded comprehensive news');
                }
                
            } catch (error) {
                console.error('News fetch error:', error);
                const fallbackNews = generateFallbackNews(50);
                updateNewsContent(fallbackNews);
                updateNewsStats(fallbackNews);
                showNotification('📰 Showing sample GTA 6 news (API unavailable)');
            }
        }

        function updateNewsContent(articles) {
            const newsContainer = safeGetElement('newsContainer');
            
            if (newsContainer && articles.length > 0) {
                newsContainer.innerHTML = articles.map(article => {
                    const publishedAt = new Date(article.publishedAt || article.created || Date.now());
                    const timeAgo = getTimeAgo(publishedAt);
                    const sourceName = article.source?.name || 'News Source';
                    const category = article.category || 'News';
                    
                    const colors = ['var(--primary-color)', 'var(--warning-color)', 'var(--secondary-color)', 'var(--accent-color)'];
                    const borderColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    return `
                        <article class="news-article" style="border-left-color: ${borderColor};" onclick="window.open('${article.url}', '_blank')">
                            <div class="news-title">${article.title}</div>
                            <div class="news-source">
                                <span>${sourceName}</span>
                                <span style="color: rgba(255,255,255,0.6);">${timeAgo}</span>
                            </div>
                            <div class="news-description">${article.description || 'Click to read full article.'}</div>
                            <div class="news-footer">
                                <span class="news-badge">${category}</span>
                                <span class="news-link">Click to read →</span>
                            </div>
                        </article>
                    `;
                }).join('');
            }
        }

        function updateNewsStats(articles) {
            try {
                const newsCount = articles.length;
                const sources = new Set(articles.map(a => a.source?.name || 'Unknown')).size;
                const weeklyEstimate = Math.floor(newsCount * 7);
                
                safeUpdateText('newsCount', newsCount);
                safeUpdateText('newsWeekly', weeklyEstimate);
                safeUpdateText('newsSources', sources);
            } catch (error) {
                console.warn('News stats update error:', error);
            }
        }

        function showFallbackNews() {
            try {
                const sampleNews = [
                    {
                        title: "GTA 6 Development Update: Vice City Setting Confirmed",
                        description: "Rockstar Games confirms Vice City as the primary setting for Grand Theft Auto VI, bringing back the beloved Miami-inspired location with enhanced detail and scope.",
                        source: { name: "Gaming News" },
                        publishedAt: new Date().toISOString(),
                        url: "#",
                        category: "Official"
                    },
                    {
                        title: "GTA 6 Release Window: Spring 2025 Target Maintained",
                        description: "Industry sources suggest Rockstar is still targeting a Spring 2025 release window for the highly anticipated sequel, despite development challenges.",
                        source: { name: "Game Industry" },
                        publishedAt: new Date(Date.now() - 86400000).toISOString(),
                        url: "#",
                        category: "Industry"
                    }
                ];

                const newsContainer = safeGetElement('newsContainer');
                if (newsContainer) {
                    newsContainer.innerHTML = `
                        <div style="background: rgba(255,193,7,0.1); border: 1px solid var(--warning-color); padding: 1rem; border-radius: 8px; margin-bottom: 2rem; text-align: center;">
                            <strong>⚠️ API Notice:</strong> Live news API unavailable. Showing sample GTA 6 news content.
                        </div>
                    `;
                    
                    updateNewsContent(sampleNews);
                    updateNewsStats(sampleNews);
                    showNotification('📰 Showing sample GTA 6 news (API unavailable)');
                }
            } catch (error) {
                console.error('Fallback news error:', error);
            }
        }

        // Enhanced Rumors function
        async function fetchGTA6Rumors() {
            try {
                const rumorsContainer = safeGetElement('rumorsContainer');
                if (!rumorsContainer) return;

                rumorsContainer.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--primary-color);">
                        <div class="spinner"></div>
                        <div style="margin-top: 1rem;">Loading GTA 6 rumors from multiple sources...</div>
                    </div>
                `;

                let allRumors = [];

                // Try multiple sources for rumors
                try {
                    // YouTube rumors
                    const ytResponse = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=20&q=GTA+6+leak+rumor+news+2024+2025&key=${API_CONFIG.youtube}&type=video&order=relevance`);
                    
                    if (ytResponse.ok) {
                        const ytData = await ytResponse.json();
                        if (ytData.items && ytData.items.length > 0) {
                            const youtubeRumors = ytData.items.map(item => ({
                                title: item.snippet.title,
                                content: item.snippet.description ? item.snippet.description.substring(0, 200) + '...' : `YouTube video: ${item.snippet.title}`,
                                author: item.snippet.channelTitle,
                                score: Math.floor(Math.random() * 1000) + 100,
                                views: Math.floor(Math.random() * 500000) + 10000,
                                created: new Date(item.snippet.publishedAt).getTime() / 1000,
                                permalink: `https://youtube.com/watch?v=${item.id.videoId}`,
                                credibility: calculateCredibility(item.snippet.channelTitle),
                                source: 'YouTube',
                                sourceIcon: '🎥',
                                thumbnail: item.snippet.thumbnails.medium?.url
                            }));
                            allRumors.push(...youtubeRumors);
                        }
                    }
                } catch (ytError) {
                    console.log('YouTube rumors error:', ytError.message);
                }

                // Try Reddit rumors
                const subreddits = ['GTA6', 'GrandTheftAutoVI', 'rockstar', 'gaming', 'Games', 'gamingleaks'];
                for (const subreddit of subreddits) {
                    try {
                        const response = await fetch(`https://www.reddit.com/r/${subreddit}/hot.json?limit=10`);
                        if (response.ok) {
                            const data = await response.json();
                            const posts = data.data.children
                                .filter(post => {
                                    const title = post.data.title.toLowerCase();
                                    return title.includes('gta') || title.includes('leak') || title.includes('rumor');
                                })
                                .map(post => ({
                                    title: post.data.title,
                                    content: post.data.selftext ? post.data.selftext.substring(0, 200) + '...' : `Reddit discussion: ${post.data.title}`,
                                    author: post.data.author || 'Reddit User',
                                    score: post.data.score || Math.floor(Math.random() * 200) + 50,
                                    comments: post.data.num_comments || Math.floor(Math.random() * 100) + 10,
                                    created: post.data.created_utc || (Math.floor(Date.now() / 1000) - Math.random() * 604800),
                                    permalink: `https://reddit.com${post.data.permalink}`,
                                    credibility: calculateRedditCredibility(post.data.score, post.data.num_comments),
                                    source: 'Reddit',
                                    sourceIcon: '🔴',
                                    subreddit: post.data.subreddit
                                }));
                            allRumors.push(...posts);
                        }
                    } catch (redditError) {
                        console.log(`Reddit r/${subreddit} error:`, redditError.message);
                    }
                }

                // Enhanced demo rumors
                const demoRumors = [
                    {
                        title: "BREAKING: GTA 6 Vice City Map Leaked - Massive Open World",
                        content: "New leaked screenshots show an incredibly detailed Vice City with expanded areas including the Everglades, multiple islands, and parts of South America. The map is reportedly 3x larger than GTA 5.",
                        author: "GameSpot News",
                        score: 2847,
                        comments: 456,
                        created: Math.floor(Date.now() / 1000) - 7200,
                        permalink: "https://www.gamespot.com/games/grand-theft-auto-vi/",
                        credibility: "high",
                        source: "News",
                        sourceIcon: "📰"
                    },
                    {
                        title: "GTA 6 Dual Protagonists CONFIRMED - Lucia & Jason Details",
                        content: "Industry insiders confirm GTA 6 will feature two main characters in a Bonnie & Clyde style story. The female protagonist Lucia is reportedly voiced by a major Hollywood actress.",
                        author: "IGN Gaming",
                        score: 2156,
                        comments: 389,
                        created: Math.floor(Date.now() / 1000) - 28800,
                        permalink: "https://www.ign.com/wikis/gta-6",
                        credibility: "high",
                        source: "News",
                        sourceIcon: "📰"
                    }
                ];

                allRumors.push(...demoRumors);

                // Sort and display
                const finalRumors = allRumors
                    .sort((a, b) => (b.score + (b.views || 0) / 1000) - (a.score + (a.views || 0) / 1000))
                    .slice(0, 50);

                displayRumors(finalRumors);
                updateRumorStats(finalRumors);
                showNotification(`🔥 Loaded ${finalRumors.length} rumors from multiple sources!`);

            } catch (error) {
                console.error('Rumors fetch error:', error);
                displayEmergencyFallback();
            }
        }

        function calculateCredibility(channelName) {
            const name = channelName.toLowerCase();
            if (['gamespot', 'ign', 'kotaku', 'polygon'].some(ch => name.includes(ch))) return 'high';
            if (['gta leaks', 'gaming leaks', 'rockstar'].some(ch => name.includes(ch))) return 'medium';
            return 'low';
        }

        function calculateRedditCredibility(score, comments) {
            let credibilityScore = 0;
            if (score > 1000) credibilityScore += 40;
            else if (score > 500) credibilityScore += 30;
            else if (score > 100) credibilityScore += 20;
            else if (score > 50) credibilityScore += 10;
            
            if (comments > 200) credibilityScore += 30;
            else if (comments > 100) credibilityScore += 20;
            else if (comments > 50) credibilityScore += 15;
            else if (comments > 20) credibilityScore += 10;
            
            if (credibilityScore >= 60) return 'high';
            if (credibilityScore >= 30) return 'medium';
            return 'low';
        }

        function displayRumors(rumors) {
            const container = safeGetElement('rumorsContainer');
            if (!container) return;
            
            container.innerHTML = rumors.map(rumor => `
                <div class="news-article" style="border-left: 4px solid var(--primary-color);">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <span style="font-size: 1.2rem;">${rumor.sourceIcon}</span>
                                <span style="color: var(--primary-color); font-size: 0.9rem; font-weight: 600;">${rumor.source}</span>
                                ${rumor.views ? `<span style="color: var(--text-color); opacity: 0.6; font-size: 0.8rem;">• ${formatViews(rumor.views)} views</span>` : ''}
                            </div>
                            <h3 style="color: var(--text-color); margin: 0; font-size: 1.1rem; line-height: 1.4;">${rumor.title}</h3>
                        </div>
                        <span style="
                            padding: 0.3rem 0.8rem; 
                            border-radius: 20px; 
                            font-size: 0.75rem; 
                            font-weight: bold; 
                            text-transform: uppercase;
                            background: ${getCredibilityColor(rumor.credibility)};
                            color: white;
                            white-space: nowrap;
                            margin-left: 1rem;
                        ">${rumor.credibility}</span>
                    </div>
                    
                    <p style="color: var(--text-color); opacity: 0.8; margin: 1rem 0; line-height: 1.6; font-size: 0.95rem;">
                        ${rumor.content}
                    </p>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; color: var(--text-color); opacity: 0.6; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem;">
                        <div>
                            <span style="color: var(--primary-color);">${rumor.author}</span>
                        </div>
                        <div>
                            <span>↑ ${rumor.score}</span>
                            ${rumor.comments ? `<span style="margin: 0 0.5rem;">•</span><span>${rumor.comments} comments</span>` : ''}
                            <span style="margin: 0 0.5rem;">•</span>
                            <span>${getTimeAgo(new Date(rumor.created * 1000))}</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1rem;">
                        <a href="${rumor.permalink}" target="_blank" style="
                            color: var(--primary-color); 
                            text-decoration: none; 
                            font-size: 0.9rem; 
                            font-weight: 600;
                            display: inline-flex;
                            align-items: center;
                            gap: 0.5rem;
                        ">
                            ${rumor.source === 'YouTube' ? 'Watch Video' : 'Read More'} →
                        </a>
                    </div>
                </div>
            `).join('');
        }

        function displayEmergencyFallback() {
            const container = safeGetElement('rumorsContainer');
            if (!container) return;
            
            container.innerHTML = `
                <div style="text-align: center; padding: 3rem; color: var(--primary-color);">
                    <h3>🔥 GTA 6 Rumors Hub</h3>
                    <p style="color: var(--text-color); opacity: 0.8; margin: 1rem 0;">Loading rumors from our sources...</p>
                    <button onclick="fetchGTA6Rumors()" style="background: var(--primary-color); color: black; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: bold;">🔄 Retry Loading</button>
                </div>
            `;
        }

        function updateRumorStats(rumors) {
            const rumorsCount = safeGetElement('rumorsCount');
            const rumorCredibility = safeGetElement('rumorCredibility');
            const rumorSources = safeGetElement('rumorSources');
            
            if (rumorsCount) rumorsCount.textContent = rumors.length;
            
            if (rumorCredibility) {
                const credScores = rumors.map(r => ({ high: 85, medium: 60, low: 35 }[r.credibility] || 50));
                const avgCred = Math.round(credScores.reduce((a, b) => a + b, 0) / credScores.length);
                rumorCredibility.textContent = `${avgCred}%`;
            }
            
            if (rumorSources) {
                const uniqueSources = [...new Set(rumors.map(r => r.source))].length;
                rumorSources.textContent = uniqueSources;
            }
        }

        function formatViews(views) {
            if (views >= 1000000) return (views / 1000000).toFixed(1) + 'M';
            if (views >= 1000) return (views / 1000).toFixed(1) + 'K';
            return views.toString();
        }

        function getCredibilityColor(credibility) {
            switch(credibility) {
                case 'high': return '#2ed573';
                case 'medium': return '#ffa502';  
                case 'low': return '#ff4757';
                default: return '#888';
            }
        }

        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }

        function getTimeAgo(date) {
            const now = new Date();
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Just now';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;
            if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)}d ago`;
            if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 604800)}w ago`;
            return `${Math.floor(diffInSeconds / 2592000)}mo ago`;
        }

        // Countdown timer
        function startCountdown() {
            try {
                const targetDate = new Date('2026-05-26T12:00:00.000Z');
                
                function updateCountdown() {
                    try {
                        const now = new Date();
                        const difference = targetDate.getTime() - now.getTime();
                        
                        if (difference <= 0) {
                            ['days', 'hours', 'minutes', 'seconds'].forEach(id => {
                                safeUpdateText(id, '0');
                            });
                            return;
                        }
                        
                        const days = Math.floor(difference / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((difference % (1000 * 60)) / 1000);
                        
                        safeUpdateText('days', days);
                        safeUpdateText('hours', hours);
                        safeUpdateText('minutes', minutes);
                        safeUpdateText('seconds', seconds);
                    } catch (error) {
                        console.warn('Countdown update error:', error);
                    }
                }
                
                updateCountdown();
                setInterval(updateCountdown, 1000);
            } catch (error) {
                console.warn('Countdown init error:', error);
            }
        }

        // Update online count
        function updateOnlineCount() {
            try {
                const count = Math.floor(Math.random() * 1000) + 12000;
                safeUpdateText('onlineCount', count.toLocaleString());
                setTimeout(updateOnlineCount, 30000);
            } catch (error) {
                console.warn('Online count error:', error);
            }
        }

        // Sharing and referral functions
        function copyReferralCode() {
            try {
                showNotification('Referral code copied to clipboard!');
                awardRewards(5, 2, 'Copied referral code');
            } catch (error) {
                console.warn('Copy error:', error);
            }
        }

        function shareForReward() {
            try {
                showNotification('Share feature coming soon! +500 coins when implemented');
                awardRewards(10, 5, 'Clicked share button');
            } catch (error) {
                console.warn('Share error:', error);
            }
        }

        function upgradeToPremium() {
            try {
                showNotification('Premium upgrade coming soon!');
            } catch (error) {
                console.warn('Premium error:', error);
            }
        }

        // Trailer functionality
        function initTrailer() {
            try {
                const trailerPreview = safeGetElement('trailerPreview');
                const playButton = safeGetElement('playButton');
                
                function playTrailer() {
                    window.open('https://www.youtube.com/watch?v=VQRLujxTm3c', '_blank');
                }
                
                if (trailerPreview) trailerPreview.addEventListener('click', playTrailer);
                if (playButton) playButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    playTrailer();
                });
            } catch (error) {
                console.warn('Trailer init error:', error);
            }
        }

        // Banner management
        function initBanners() {
            try {
                // Beta banner
                const betaBanner = safeGetElement('betaBanner');
                const betaBannerClose = safeGetElement('betaBannerClose');
                
                if (betaBanner && safeGetStorage('betaBannerDismissed', 'false') !== 'true') {
                    setTimeout(() => {
                        betaBanner.classList.add('show');
                    }, 100);
                }
                
                if (betaBannerClose) {
                    betaBannerClose.addEventListener('click', () => {
                        if (betaBanner) {
                            betaBanner.classList.remove('show');
                            safeSetStorage('betaBannerDismissed', 'true');
                        }
                    });
                }
                
                // Disclaimer banner
                const disclaimerBanner = safeGetElement('disclaimerBanner');
                const disclaimerBannerClose = safeGetElement('disclaimerBannerClose');
                
                if (disclaimerBanner && safeGetStorage('disclaimerBannerDismissed', 'false') !== 'true') {
                    setTimeout(() => {
                        disclaimerBanner.classList.add('show');
                    }, 200);
                }
                
                if (disclaimerBannerClose) {
                    disclaimerBannerClose.addEventListener('click', () => {
                        if (disclaimerBanner) {
                            disclaimerBanner.classList.remove('show');
                            safeSetStorage('disclaimerBannerDismissed', 'true');
                        }
                    });
                }
            } catch (error) {
                console.warn('Banner init error:', error);
            }
        }

        // Initialize app
        function initApp() {
            try {
                loadSavedTheme();
                updateUserInterface();
                startCountdown();
                updateOnlineCount();
                initTrailer();
                initBanners();

                // Auto-load news on startup
                setTimeout(() => {
                    fetchGTA6News();
                }, 2000);

                // Show welcome notification
                setTimeout(() => {
                    showNotification('🎮 Welcome to GTAFastLane! APIs loading...');
                }, 1000);
            } catch (error) {
                console.warn('Init error:', error);
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>



